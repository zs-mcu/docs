<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络服务—NFS | 小邵子</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script charset="utf-8" src="/js/custom.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b2140ca1d9ce57e6aac1a7709f5f5fe7";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="小邵子的个人笔记">
    <meta name="author" content="小邵子">
    <meta name="keywords" content="张邵,小邵子的 vuepress 个人博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9632ee24.css" as="style"><link rel="preload" href="/assets/js/app.4d83e60b.js" as="script"><link rel="preload" href="/assets/js/2.efb65d55.js" as="script"><link rel="preload" href="/assets/js/27.349713b1.js" as="script"><link rel="preload" href="/assets/js/102.1846a95e.js" as="script"><link rel="prefetch" href="/assets/js/1.82a264be.js"><link rel="prefetch" href="/assets/js/10.995768a8.js"><link rel="prefetch" href="/assets/js/100.ab97fb4f.js"><link rel="prefetch" href="/assets/js/101.5d662d5e.js"><link rel="prefetch" href="/assets/js/103.1c846770.js"><link rel="prefetch" href="/assets/js/104.ee4c738f.js"><link rel="prefetch" href="/assets/js/105.a2529c1b.js"><link rel="prefetch" href="/assets/js/106.c64ffbe3.js"><link rel="prefetch" href="/assets/js/107.817b9795.js"><link rel="prefetch" href="/assets/js/108.d3d69c6a.js"><link rel="prefetch" href="/assets/js/109.7588c6f2.js"><link rel="prefetch" href="/assets/js/11.a55539c0.js"><link rel="prefetch" href="/assets/js/110.97b4ee6f.js"><link rel="prefetch" href="/assets/js/111.bc0b2d55.js"><link rel="prefetch" href="/assets/js/112.c4526426.js"><link rel="prefetch" href="/assets/js/113.b25eea32.js"><link rel="prefetch" href="/assets/js/114.90e78969.js"><link rel="prefetch" href="/assets/js/115.c49b5d64.js"><link rel="prefetch" href="/assets/js/116.5b57e9e1.js"><link rel="prefetch" href="/assets/js/117.02be1452.js"><link rel="prefetch" href="/assets/js/118.02b45c03.js"><link rel="prefetch" href="/assets/js/119.768772b5.js"><link rel="prefetch" href="/assets/js/12.fcacf76b.js"><link rel="prefetch" href="/assets/js/120.2f0555cf.js"><link rel="prefetch" href="/assets/js/121.c0cab7fe.js"><link rel="prefetch" href="/assets/js/122.27c56ee6.js"><link rel="prefetch" href="/assets/js/123.a79883cc.js"><link rel="prefetch" href="/assets/js/124.b07bd19d.js"><link rel="prefetch" href="/assets/js/125.85b22211.js"><link rel="prefetch" href="/assets/js/126.7e7a2ac3.js"><link rel="prefetch" href="/assets/js/127.89ac9376.js"><link rel="prefetch" href="/assets/js/128.86abcfb8.js"><link rel="prefetch" href="/assets/js/129.b3bde8ba.js"><link rel="prefetch" href="/assets/js/13.a311148e.js"><link rel="prefetch" href="/assets/js/130.3e554eb6.js"><link rel="prefetch" href="/assets/js/131.bcfe142a.js"><link rel="prefetch" href="/assets/js/132.3dbb2669.js"><link rel="prefetch" href="/assets/js/133.f965431a.js"><link rel="prefetch" href="/assets/js/134.51741465.js"><link rel="prefetch" href="/assets/js/135.1bb65355.js"><link rel="prefetch" href="/assets/js/136.632c3d57.js"><link rel="prefetch" href="/assets/js/137.26902a2a.js"><link rel="prefetch" href="/assets/js/138.55a56568.js"><link rel="prefetch" href="/assets/js/139.3755ca92.js"><link rel="prefetch" href="/assets/js/14.dc21b7c8.js"><link rel="prefetch" href="/assets/js/140.c58a2a14.js"><link rel="prefetch" href="/assets/js/141.f987b54c.js"><link rel="prefetch" href="/assets/js/142.39b13652.js"><link rel="prefetch" href="/assets/js/143.c1078ce3.js"><link rel="prefetch" href="/assets/js/144.0fcf6d53.js"><link rel="prefetch" href="/assets/js/145.a446c842.js"><link rel="prefetch" href="/assets/js/146.9cd32513.js"><link rel="prefetch" href="/assets/js/147.68c00255.js"><link rel="prefetch" href="/assets/js/148.a96400ef.js"><link rel="prefetch" href="/assets/js/149.0dfa5908.js"><link rel="prefetch" href="/assets/js/15.8af40953.js"><link rel="prefetch" href="/assets/js/150.95cd218e.js"><link rel="prefetch" href="/assets/js/151.c16a97fa.js"><link rel="prefetch" href="/assets/js/152.1296c388.js"><link rel="prefetch" href="/assets/js/153.ed227c4f.js"><link rel="prefetch" href="/assets/js/154.b0a32dc1.js"><link rel="prefetch" href="/assets/js/155.bd8190b9.js"><link rel="prefetch" href="/assets/js/156.9489a880.js"><link rel="prefetch" href="/assets/js/157.3c33edca.js"><link rel="prefetch" href="/assets/js/158.01800a12.js"><link rel="prefetch" href="/assets/js/159.9257dbcb.js"><link rel="prefetch" href="/assets/js/16.db89fd0c.js"><link rel="prefetch" href="/assets/js/160.16f7544b.js"><link rel="prefetch" href="/assets/js/161.b6825839.js"><link rel="prefetch" href="/assets/js/162.9ce4af7d.js"><link rel="prefetch" href="/assets/js/163.cd5bcc03.js"><link rel="prefetch" href="/assets/js/164.ce927095.js"><link rel="prefetch" href="/assets/js/165.4d52a38d.js"><link rel="prefetch" href="/assets/js/166.7d810f65.js"><link rel="prefetch" href="/assets/js/167.01808162.js"><link rel="prefetch" href="/assets/js/168.7d0ae88b.js"><link rel="prefetch" href="/assets/js/169.de82d07d.js"><link rel="prefetch" href="/assets/js/17.5fa58d39.js"><link rel="prefetch" href="/assets/js/170.bd67bd9a.js"><link rel="prefetch" href="/assets/js/171.2964708e.js"><link rel="prefetch" href="/assets/js/172.095a7280.js"><link rel="prefetch" href="/assets/js/173.6c4d2655.js"><link rel="prefetch" href="/assets/js/174.8ef9b1bc.js"><link rel="prefetch" href="/assets/js/175.12da9b10.js"><link rel="prefetch" href="/assets/js/176.bf30afa9.js"><link rel="prefetch" href="/assets/js/177.8bb408dc.js"><link rel="prefetch" href="/assets/js/178.43924887.js"><link rel="prefetch" href="/assets/js/179.8508d866.js"><link rel="prefetch" href="/assets/js/18.ef96135b.js"><link rel="prefetch" href="/assets/js/180.7fd20e1a.js"><link rel="prefetch" href="/assets/js/181.ece61bb6.js"><link rel="prefetch" href="/assets/js/182.a0759671.js"><link rel="prefetch" href="/assets/js/183.1bd86ea4.js"><link rel="prefetch" href="/assets/js/184.6e75f6f4.js"><link rel="prefetch" href="/assets/js/185.fc62cc10.js"><link rel="prefetch" href="/assets/js/186.d58d623f.js"><link rel="prefetch" href="/assets/js/187.0189e870.js"><link rel="prefetch" href="/assets/js/188.18cdac2f.js"><link rel="prefetch" href="/assets/js/189.05706df8.js"><link rel="prefetch" href="/assets/js/19.9f1f6707.js"><link rel="prefetch" href="/assets/js/190.0d5c7fb7.js"><link rel="prefetch" href="/assets/js/191.2a717d48.js"><link rel="prefetch" href="/assets/js/192.4d61feb0.js"><link rel="prefetch" href="/assets/js/193.2e84dc24.js"><link rel="prefetch" href="/assets/js/194.4bfa9add.js"><link rel="prefetch" href="/assets/js/195.88da2c3c.js"><link rel="prefetch" href="/assets/js/196.aa652f10.js"><link rel="prefetch" href="/assets/js/197.8031bc78.js"><link rel="prefetch" href="/assets/js/198.d4b830a8.js"><link rel="prefetch" href="/assets/js/199.aa3317d9.js"><link rel="prefetch" href="/assets/js/20.a80cf0e6.js"><link rel="prefetch" href="/assets/js/200.716210bf.js"><link rel="prefetch" href="/assets/js/201.88a8bdeb.js"><link rel="prefetch" href="/assets/js/202.cef8c60a.js"><link rel="prefetch" href="/assets/js/203.a78fff95.js"><link rel="prefetch" href="/assets/js/204.6e753f2f.js"><link rel="prefetch" href="/assets/js/205.a9c824f1.js"><link rel="prefetch" href="/assets/js/206.b8a6ab59.js"><link rel="prefetch" href="/assets/js/207.52244f4e.js"><link rel="prefetch" href="/assets/js/208.e94b8dd9.js"><link rel="prefetch" href="/assets/js/209.de8c400e.js"><link rel="prefetch" href="/assets/js/21.b356c004.js"><link rel="prefetch" href="/assets/js/210.38597133.js"><link rel="prefetch" href="/assets/js/211.22c2c28a.js"><link rel="prefetch" href="/assets/js/212.bcc5d7d4.js"><link rel="prefetch" href="/assets/js/213.234feada.js"><link rel="prefetch" href="/assets/js/214.8caebe7b.js"><link rel="prefetch" href="/assets/js/215.31f73bb6.js"><link rel="prefetch" href="/assets/js/216.dc413a46.js"><link rel="prefetch" href="/assets/js/217.f3e4ca02.js"><link rel="prefetch" href="/assets/js/218.f759c1f5.js"><link rel="prefetch" href="/assets/js/219.fd697b81.js"><link rel="prefetch" href="/assets/js/22.99b93cd0.js"><link rel="prefetch" href="/assets/js/220.bac13acf.js"><link rel="prefetch" href="/assets/js/221.b85c0d04.js"><link rel="prefetch" href="/assets/js/222.28151d7c.js"><link rel="prefetch" href="/assets/js/223.2c8318b9.js"><link rel="prefetch" href="/assets/js/224.95c39be9.js"><link rel="prefetch" href="/assets/js/225.f7eded6c.js"><link rel="prefetch" href="/assets/js/226.288d8368.js"><link rel="prefetch" href="/assets/js/227.e73e3219.js"><link rel="prefetch" href="/assets/js/228.0c549517.js"><link rel="prefetch" href="/assets/js/229.123c4103.js"><link rel="prefetch" href="/assets/js/23.df3bb6d3.js"><link rel="prefetch" href="/assets/js/230.f3a83868.js"><link rel="prefetch" href="/assets/js/231.1f1755e2.js"><link rel="prefetch" href="/assets/js/232.be0301b2.js"><link rel="prefetch" href="/assets/js/233.7552828d.js"><link rel="prefetch" href="/assets/js/234.f0992f57.js"><link rel="prefetch" href="/assets/js/235.7679b15a.js"><link rel="prefetch" href="/assets/js/236.92bd79a2.js"><link rel="prefetch" href="/assets/js/237.2c8965a3.js"><link rel="prefetch" href="/assets/js/238.7a59a69a.js"><link rel="prefetch" href="/assets/js/239.d3c8d8a1.js"><link rel="prefetch" href="/assets/js/24.04a676bb.js"><link rel="prefetch" href="/assets/js/240.db8978ff.js"><link rel="prefetch" href="/assets/js/241.17efca7f.js"><link rel="prefetch" href="/assets/js/242.3ebdaa5c.js"><link rel="prefetch" href="/assets/js/243.deb0652f.js"><link rel="prefetch" href="/assets/js/244.c5c86bd0.js"><link rel="prefetch" href="/assets/js/245.bfee3a72.js"><link rel="prefetch" href="/assets/js/246.a83bdd9d.js"><link rel="prefetch" href="/assets/js/247.3bcbe3bf.js"><link rel="prefetch" href="/assets/js/248.da779e87.js"><link rel="prefetch" href="/assets/js/249.975687c4.js"><link rel="prefetch" href="/assets/js/25.25055c1c.js"><link rel="prefetch" href="/assets/js/250.e729fcab.js"><link rel="prefetch" href="/assets/js/251.8d30af6e.js"><link rel="prefetch" href="/assets/js/252.2f1a517c.js"><link rel="prefetch" href="/assets/js/253.63b9b557.js"><link rel="prefetch" href="/assets/js/254.a66b0909.js"><link rel="prefetch" href="/assets/js/255.34af7c96.js"><link rel="prefetch" href="/assets/js/256.6a655b5d.js"><link rel="prefetch" href="/assets/js/257.15c6b546.js"><link rel="prefetch" href="/assets/js/258.344c3eb1.js"><link rel="prefetch" href="/assets/js/259.70516e1c.js"><link rel="prefetch" href="/assets/js/26.e6a3a185.js"><link rel="prefetch" href="/assets/js/260.52fab902.js"><link rel="prefetch" href="/assets/js/261.3db947f8.js"><link rel="prefetch" href="/assets/js/262.e39e7f6f.js"><link rel="prefetch" href="/assets/js/263.f47b9e49.js"><link rel="prefetch" href="/assets/js/264.3eedd7eb.js"><link rel="prefetch" href="/assets/js/265.4b0dac11.js"><link rel="prefetch" href="/assets/js/266.2f27548f.js"><link rel="prefetch" href="/assets/js/28.be5fdd3b.js"><link rel="prefetch" href="/assets/js/29.8b651b74.js"><link rel="prefetch" href="/assets/js/3.2ed4112d.js"><link rel="prefetch" href="/assets/js/30.2ba4e51b.js"><link rel="prefetch" href="/assets/js/31.880f9175.js"><link rel="prefetch" href="/assets/js/32.576165dc.js"><link rel="prefetch" href="/assets/js/33.ed803e94.js"><link rel="prefetch" href="/assets/js/34.b0b60ffc.js"><link rel="prefetch" href="/assets/js/35.da9fbc79.js"><link rel="prefetch" href="/assets/js/36.a7aaa237.js"><link rel="prefetch" href="/assets/js/37.4651fc03.js"><link rel="prefetch" href="/assets/js/38.243bf65d.js"><link rel="prefetch" href="/assets/js/39.7099df10.js"><link rel="prefetch" href="/assets/js/4.cbefc0fe.js"><link rel="prefetch" href="/assets/js/40.3ab87c71.js"><link rel="prefetch" href="/assets/js/41.ff94ee3b.js"><link rel="prefetch" href="/assets/js/42.5de2ea2d.js"><link rel="prefetch" href="/assets/js/43.84f25a88.js"><link rel="prefetch" href="/assets/js/44.635f3f42.js"><link rel="prefetch" href="/assets/js/45.4d2bc942.js"><link rel="prefetch" href="/assets/js/46.57c6488e.js"><link rel="prefetch" href="/assets/js/47.343d63a7.js"><link rel="prefetch" href="/assets/js/48.de58ef3a.js"><link rel="prefetch" href="/assets/js/49.58996889.js"><link rel="prefetch" href="/assets/js/5.7bf83c12.js"><link rel="prefetch" href="/assets/js/50.caaf9050.js"><link rel="prefetch" href="/assets/js/51.ac8d9b9d.js"><link rel="prefetch" href="/assets/js/52.1e867123.js"><link rel="prefetch" href="/assets/js/53.5ed1b769.js"><link rel="prefetch" href="/assets/js/54.8ea1df70.js"><link rel="prefetch" href="/assets/js/55.a40609c2.js"><link rel="prefetch" href="/assets/js/56.c39dd4cb.js"><link rel="prefetch" href="/assets/js/57.114c46e1.js"><link rel="prefetch" href="/assets/js/58.a0643091.js"><link rel="prefetch" href="/assets/js/59.a455cae9.js"><link rel="prefetch" href="/assets/js/6.6adbdadf.js"><link rel="prefetch" href="/assets/js/60.5927ee58.js"><link rel="prefetch" href="/assets/js/61.2df4a89b.js"><link rel="prefetch" href="/assets/js/62.3061bc93.js"><link rel="prefetch" href="/assets/js/63.4d032aca.js"><link rel="prefetch" href="/assets/js/64.fbd5ac43.js"><link rel="prefetch" href="/assets/js/65.77696ab4.js"><link rel="prefetch" href="/assets/js/66.ba5a4954.js"><link rel="prefetch" href="/assets/js/67.f3ab4faf.js"><link rel="prefetch" href="/assets/js/68.baf91e32.js"><link rel="prefetch" href="/assets/js/69.3f5c4b77.js"><link rel="prefetch" href="/assets/js/7.f6f620e7.js"><link rel="prefetch" href="/assets/js/70.2a9f0ada.js"><link rel="prefetch" href="/assets/js/71.98672cf4.js"><link rel="prefetch" href="/assets/js/72.f35e308d.js"><link rel="prefetch" href="/assets/js/73.56accc4e.js"><link rel="prefetch" href="/assets/js/74.fad4bc44.js"><link rel="prefetch" href="/assets/js/75.353da994.js"><link rel="prefetch" href="/assets/js/76.5b37b6c9.js"><link rel="prefetch" href="/assets/js/77.a5e2148d.js"><link rel="prefetch" href="/assets/js/78.7bd2b53c.js"><link rel="prefetch" href="/assets/js/79.6dc04614.js"><link rel="prefetch" href="/assets/js/80.f7a32bb3.js"><link rel="prefetch" href="/assets/js/81.b7c03578.js"><link rel="prefetch" href="/assets/js/82.3434c070.js"><link rel="prefetch" href="/assets/js/83.e4850b28.js"><link rel="prefetch" href="/assets/js/84.f9c1c30f.js"><link rel="prefetch" href="/assets/js/85.588ed61f.js"><link rel="prefetch" href="/assets/js/86.ee65d8cf.js"><link rel="prefetch" href="/assets/js/87.a2f190d4.js"><link rel="prefetch" href="/assets/js/88.a7c19480.js"><link rel="prefetch" href="/assets/js/89.1efbd050.js"><link rel="prefetch" href="/assets/js/90.b9859769.js"><link rel="prefetch" href="/assets/js/91.4671f2a8.js"><link rel="prefetch" href="/assets/js/92.2ade6f71.js"><link rel="prefetch" href="/assets/js/93.69c6947e.js"><link rel="prefetch" href="/assets/js/94.614039b3.js"><link rel="prefetch" href="/assets/js/95.5a3281bb.js"><link rel="prefetch" href="/assets/js/96.2d1efe98.js"><link rel="prefetch" href="/assets/js/97.12ea4c68.js"><link rel="prefetch" href="/assets/js/98.b464301e.js"><link rel="prefetch" href="/assets/js/99.e9c3b84b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.02eccf6f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9632ee24.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><a href="/" class="home-link router-link-active"><!----> <span class="site-name">小邵子</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markmap/" class="nav-link">
  markmap
</a></li><li class="dropdown-item"><!----> <a href="/小工具/html2md/" class="nav-link">
  html2md
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/小工具/codeAi/" class="nav-link">
  codeAi
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小需求" class="dropdown-title"><span class="title">小需求</span> <span class="arrow down"></span></button> <button type="button" aria-label="小需求" class="mobile-dropdown-title"><span class="title">小需求</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小需求/js/js-分组.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/小需求/html/video-播放视频.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/小需求/iframe/iframe-自适应高度.html" class="nav-link">
  iframe
</a></li><li class="dropdown-item"><!----> <a href="/小需求/css/撑开高度.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/js/JSON-stringify函数.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/web/iframe/iframe-简单使用.html" class="nav-link">
  iframe
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小框架" class="dropdown-title"><span class="title">小框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="小框架" class="mobile-dropdown-title"><span class="title">小框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小框架/kkfileview/" class="nav-link">
  kkFileView
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markmap/" class="nav-link">
  markmap
</a></li><li class="dropdown-item"><!----> <a href="/小工具/html2md/" class="nav-link">
  html2md
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/小工具/codeAi/" class="nav-link">
  codeAi
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小需求" class="dropdown-title"><span class="title">小需求</span> <span class="arrow down"></span></button> <button type="button" aria-label="小需求" class="mobile-dropdown-title"><span class="title">小需求</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小需求/js/js-分组.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/小需求/html/video-播放视频.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/小需求/iframe/iframe-自适应高度.html" class="nav-link">
  iframe
</a></li><li class="dropdown-item"><!----> <a href="/小需求/css/撑开高度.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/js/JSON-stringify函数.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/web/iframe/iframe-简单使用.html" class="nav-link">
  iframe
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小框架" class="dropdown-title"><span class="title">小框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="小框架" class="mobile-dropdown-title"><span class="title">小框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小框架/kkfileview/" class="nav-link">
  kkFileView
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux概述</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基本使用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务管理</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zs-use/linux/基本使用/服务管理--NFS.html" class="active sidebar-link">网络服务—NFS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_1-什么是nfs" class="sidebar-link">1.什么是NFS？</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_2-挂载原理" class="sidebar-link">2.挂载原理</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_3-协议及安装" class="sidebar-link">3.协议及安装</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_4-守护进程" class="sidebar-link">4.守护进程</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_5-配置" class="sidebar-link">5.配置</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_6-启动与停止" class="sidebar-link">6.启动与停止</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_7-实验示例" class="sidebar-link">7.实验示例</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#_8-相关命令" class="sidebar-link">8.相关命令</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#收集示例1" class="sidebar-link">收集示例1</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#收集示例2" class="sidebar-link">收集示例2</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/基本使用/服务管理--NFS.html#收集示例3" class="sidebar-link">收集示例3</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="网络服务-nfs"><a href="#网络服务-nfs" class="header-anchor">#</a> 网络服务—NFS</h1> <h2 id="_1-什么是nfs"><a href="#_1-什么是nfs" class="header-anchor">#</a> 1.什么是NFS？</h2> <p>​		NFS是Network File System的缩写，即网络文件系统。一种使用于分散式文件系统的协定，由Sun公司开发，于1984年向外公布。功能是通过网络让不同的机器、不同的操作系统能够彼此分享个别的数据，让应用程序在客户端通过网络访问位于服务器磁盘中的数据，是在类Unix系统间实现磁盘文件共享的一种方法</p> <p><img src="/assets/img/image-20231218145658037.6a8f0573.png" alt="image-20231218145658037"></p> <p>​		它的主要功能是通过网络让不同的机器系统之间可以彼此共享文件和目录。NFS服务器可以允许NFS客户端将远端NFS服务器端的共享目录挂载到本地的NFS客户端中。在本地的NFS客户端的机器看来，NFS服务器端共享的目录就好像自己的磁盘分区和目录一样。一般客户端挂载到本地目录的名字可以随便，但为方便管理，我们要和服务器端一样比较好。</p> <p>NFS一般用来存储共享视频，图片等静态数据。</p> <p><img src="/assets/img/image-20231218150203867.3c90f617.png" alt="image-20231218150203867"></p> <h2 id="_2-挂载原理"><a href="#_2-挂载原理" class="header-anchor">#</a> 2.挂载原理</h2> <p>​		NFS是通过网络来进行服务端和客户端之间的数据传输。两者之间要传输数据就要有想对应的网络端口来进行传输。NFS服务器到底使用什么网络端口来传输数据的，NFS服务器端其实是随机选择端口来进行数据传输。那NFS客户端又是如何知道NFS服务器端到底使用的是哪个端口呢？其实NFS服务器时通过远程过程调用（remote procedure call简称RPC）协议/服务来实现的。也就是说RPC服务会统一管理NFS的端口，客户端和服务端通过RPC来先沟通NFS使用了哪些端口，之后再利用这些端口（小于1024）来进行数据的传输。</p> <p>​		也就是RPC管理服务端的NFS端口分配，客户端要传数据，那客户端的RPC会先跟服务端的RPC去要服务器的端口，要到端口后再建立连接，然后传输数据。</p> <p><font color="red">那RPC和NFS之间又是如何之间相互通讯的？</font></p> <p>首先当NFS启动后，就会随机的使用一些端口，然后NFS就会向RPC去注册这些端口。RPC就会记录下这些端口。并且RPC会开启111端口，等待客户端RPC的请求，如果客户端有请求，那服务端的RPC就会将记录的NFS端口信息告知客户端。</p> <p><font color="red">RPC和NFS的启动顺序是怎样的？</font></p> <p>在启动NFS SERVER之前，首先要启动RPC服务（即portmap服务，下同）否则NFS SERVER就无法向RPC服务区注册，另外，如果RPC服务重新启动，原来已经注册好的NFS端口数据就会全部丢失。因此此时RPC服务管理的NFS程序也要重新启动以重新向RPC注册。特别注意：一般修改NFS配置文档后，是不需要重启NFS的，直接在命令执行/etc/init.d/nfsreload</p> <p><font color="red">总结：客户端NFS和服务端NFS通讯过程</font></p> <p>1）首先服务器端启动RPC服务，并开启111端口</p> <p>2）启动NFS服务，并向RPC注册端口信息</p> <p>3）客户端启动RPC（portmap服务），向服务端的RPC(portmap)服务请求服务端的NFS端口</p> <p>4）服务端的RPC(portmap)服务反馈NFS端口信息给客户端。</p> <p>5）客户端通过获取的NFS端口来建立和服务端的NFS连接并进行数据的传输。</p> <p><img src="/assets/img/image-20231218151013471.24b71ed6.png" alt="image-20231218151013471"></p> <h2 id="_3-协议及安装"><a href="#_3-协议及安装" class="header-anchor">#</a> 3.协议及安装</h2> <p>协议：</p> <p>​		RPC（Remote Procedure Call Protocol）——远程过程调用协议</p> <p>软件：</p> <p>​		<code>nfs-utils-*</code>：包括NFS命令与监控程序*
​		<code>rpcbind-*</code>：支持安全NFS RPC服务的连接</p> <p>注：通常情况下，是作为系统的默认包安装的</p> <p>CentOS6.*之前rpcbind叫portmap</p> <h2 id="_4-守护进程"><a href="#_4-守护进程" class="header-anchor">#</a> 4.守护进程</h2> <p>nfs：它是基本的NFS守护进程，主要功能是管理客户端是否能够登录服务器</p> <p>rpcbind：主要功能是进行端口映射工作。当客户端尝试连接并使用RPC服务器提供的服务（如NFS服务）时，rpcbind会将所管理的与服务对应的端口提供给客户端，从而使客户可以通过该端口向服务器请求服务。</p> <h2 id="_5-配置"><a href="#_5-配置" class="header-anchor">#</a> 5.配置</h2> <p>1、配置文件</p> <blockquote><p><code>/etc/exports</code>这个文件不一定会存在，可能要使用vim手动建立</p></blockquote> <p>2、<code>/etc/exports</code>文件内容格式：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>共享目录 客户端1<span class="token punctuation">(</span>访问权限<span class="token punctuation">,</span>用户映射<span class="token punctuation">,</span>其他<span class="token punctuation">)</span> 客户端2<span class="token punctuation">(</span>访问权限<span class="token punctuation">,</span>用户映射<span class="token punctuation">,</span>其他<span class="token punctuation">)</span>

<span class="token operator">/</span>it 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>2<span class="token punctuation">.</span>0/24<span class="token punctuation">(</span>rw<span class="token punctuation">,</span>sync<span class="token punctuation">,</span>no_root_squash<span class="token punctuation">)</span>

<span class="token comment"># 共享目录：</span>
<span class="token comment"># 客户端地址</span>
		指定ip地址的主机：192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>0<span class="token punctuation">.</span>200
		指定子网中的所有主机：192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>88<span class="token punctuation">.</span>0
		指定域名的主机：www<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>com
		指定域中的所有主机：<span class="token operator">*</span><span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>com
		所有主机：<span class="token operator">*</span>
<span class="token comment"># 访问权限、映射规则</span>
访问权限选项：
		设置输出目录只读：ro
		设置输出目录读写：rw
用户映射选项：
		root_squash：	将root用户的访问映射为匿名（nfsnobody）用户uid和gid；（默认生效）
		no_root_squash：	保留管理员权限，以服务器管理员的权限管理；
		all_squash：		将远程访问的用户及所属组都映射为指定uid、gid的匿名用户；
				anonuid=xxx：将远程访问的所有用户都映射为指定uid的匿名用户；
				anongid=xxx：将远程访问的所有用户组都映射为指定gid匿名组账户；
其它选项：
		sync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性（同步）；
		async：将数据先保存在内存缓冲区中，必要时才写入磁盘（异步）；
</code></pre></div><p>3、刷新配置</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>exportfs <span class="token operator">-</span><span class="token function">rv</span>　　<span class="token comment"># 立即生效</span>
</code></pre></div><p>4、查看</p> <p>查看配置好的nfs共享目录</p> <p><code>exportfs</code></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@jysp jysp]</span><span class="token comment"># exportfs</span>
<span class="token operator">/</span><span class="token keyword">data</span>           10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
<span class="token operator">/</span>data1          10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
</code></pre></div><p><code>showmount</code></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@jysp jysp]</span><span class="token comment"># showmount -e localhost</span>
Export list <span class="token keyword">for</span> localhost:
<span class="token operator">/</span>data1 10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
<span class="token operator">/</span><span class="token keyword">data</span>  10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
</code></pre></div><h2 id="_6-启动与停止"><a href="#_6-启动与停止" class="header-anchor">#</a> 6.启动与停止</h2> <p>1、启动NFS服务器</p> <p>为了使NFS服务器能正常工作，需要启动rpcbind和nfs两个服务，并且rpcbind一定要先于nfs启动。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># centos7之后</span>
systemctl <span class="token function">start</span> rpcbind
systemctl <span class="token function">start</span> nfs

<span class="token comment"># 开机自启动</span>
systemctl enable rpcbind 
systemctl enable nfs

<span class="token comment"># 查看rpc注册的端口：</span>
rpcinfo <span class="token operator">-</span>p 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1
</code></pre></div><p>2、停止NFS服务器</p> <p>要停止NFS运行时，需要先停止nfs服务再停止rpcbind服务，对于系统中有其他服务(如NIS)需要使用时，不需要停止rpcbind服务</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>systemctl stop nfs
systemctl stop rpcbind
</code></pre></div><p>3、查看RPC服务器开启了哪些端口</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>rpcinfo <span class="token operator">-</span>p localhost
</code></pre></div><h2 id="_7-实验示例"><a href="#_7-实验示例" class="header-anchor">#</a> 7.实验示例</h2> <p>1、将NFS服务器的/home/zhangsan共享给192.168.115.0网段，rw权限</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># vi /etc/exports</span>
<span class="token operator">/</span>home/zhangsan 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>115<span class="token punctuation">.</span>0<span class="token punctuation">(</span>rw<span class="token punctuation">)</span>
</code></pre></div><p>2、重启rpcbind和nfs服务</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>service rpcbind restart
service nfs restart
exportfs


<span class="token namespace">[root@jysp jysp]</span><span class="token comment"># exportfs</span>
<span class="token operator">/</span><span class="token keyword">data</span>           10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
<span class="token operator">/</span>data1          10<span class="token punctuation">.</span>139<span class="token punctuation">.</span>102<span class="token punctuation">.</span>0/24
</code></pre></div><p>3、服务器端查看nfs共享状态</p> <p>查看自己共享的服务 <code>showmount</code>、<code>exportfs</code>命令作用相同</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>showmount <span class="token operator">-</span>e 本机ip
</code></pre></div><p>4、客户端查看nfs共享状态</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>showmount <span class="token operator">-</span>e NFS服务器IP
</code></pre></div><p>5、客户端挂载nfs服务器共享目录</p> <p><code>命令格式：mount NFS服务器IP:共享目录本地挂载点目录</code></p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token function">mount</span> 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>115<span class="token punctuation">.</span>10:<span class="token operator">/</span>home/zhangsan/ <span class="token operator">/</span>media/zhangsan/
<span class="token function">mount</span> <span class="token punctuation">|</span> grep nfs
<span class="token function">mount</span> –o vers=3 共享本地<span class="token comment">#指定挂载使用nfs V3/V4版本（避免同步延迟）</span>
</code></pre></div><p>验证客户端和nfs服务器端文件是否一致：</p> <p><img src="/assets/img/image-20231218222900839.b40807b4.png" alt="image-20231218222900839"></p> <p>修改服务器端相应权限，不然客户端无法正常访问和使用</p> <p>6、nfs共享权限和访问控制</p> <p>​	a.客户端root用户</p> <p>​		使用客户端的root身份在nfs服务器上创建文件，文件的所有者和所属组是nfsnobody。</p> <p>​	b.客户端普通用户</p> <p>​		使用客户端的普通用户身份在nfs服务器上创建文件，所有者和所属组是nobody或普通用户。</p> <p>​		如果明确设定了普通用户的映射用户身份，那么此时客户端用户的身份转换为指定映射用户；</p> <p>​		如果NFS server上面有同名用户，那么此时客户端登录账户的身份转换为NFS server上面的同名用户；</p> <p>7、卸载和自动挂载</p> <p>​	卸载：</p> <p>​		1.卸载客户端的挂载目录</p> <p>​		<code>umount 挂载点</code></p> <p>​		2.停止服务器端的共享</p> <p>​		<code>exportfs –au</code></p> <p>​	自动挂载：/etc/fstab</p> <p>​		格式：<server>:&lt;/remote/export&gt; &lt;/local/directory&gt; nfs &lt; options&gt; 0 0</server></p> <div class="language- extra-class"><pre class="language-text"><code>#192.168.115.10:/home/zhangsan /media/zhangsan nfs defaults, 0 0
#mount –a
</code></pre></div><h2 id="_8-相关命令"><a href="#_8-相关命令" class="header-anchor">#</a> 8.相关命令</h2> <h3 id="exportfs命令"><a href="#exportfs命令" class="header-anchor">#</a> exportfs命令</h3> <p>如果我们在启动了NFS之后又修改了/etc/exports，是不是还要重新启动nfs呢？这个时候我们就可以用exportfs命令来使改动立刻生效，该命令格式如下：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>格式：exportfs <span class="token punctuation">[</span><span class="token operator">-</span>aruv<span class="token punctuation">]</span>
		<span class="token operator">-</span>a	全部挂载或卸载 <span class="token operator">/</span>etc/exports 中的内容
		<span class="token operator">-</span>r	重新读取 <span class="token operator">/</span>etc/exports 中的信息，并同步更新 <span class="token operator">/</span>etc/exports 、<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/nfs/xtab
		<span class="token operator">-</span>u	卸载单一目录（和<span class="token operator">-</span>a一起使用为卸载所有<span class="token operator">/</span>etc/exports文件中的目录）
		<span class="token operator">-</span>v	在export的时候，将详细的信息输出到屏幕上。

具体例子：
	<span class="token comment"># exportfs -au 卸载所有共享目录</span>
	<span class="token comment"># exportfs -ra 重新共享所有目录并输出详细信息</span>
</code></pre></div><h3 id="rpcinfo命令"><a href="#rpcinfo命令" class="header-anchor">#</a> rpcinfo命令</h3> <p>利用rpcinfo -p可以查看出RPC开启的端口所提供的程序有哪些</p> <p>其中nfs开启的是2049，portmapper(rpcbind)开启的是111，其余则是rpc开启的</p> <h2 id="收集示例1"><a href="#收集示例1" class="header-anchor">#</a> 收集示例1</h2> <h3 id="一、服务器a下操作-ip地址-192-168-2-21"><a href="#一、服务器a下操作-ip地址-192-168-2-21" class="header-anchor">#</a> <strong>一、服务器A下操作（IP地址：192.168.2.21）</strong></h3> <p>1、查看NFS安装情况：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>rpm <span class="token operator">-</span>qa nfs-utils rpcbind
</code></pre></div><p>（没有的话，用<code>yum install nfs-utils rpcbind -y</code>安装）</p> <p>2、启动RPC：</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl start rpcbind   (service rpcbind start)　
</code></pre></div><p>开机自启动：</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl enable rpcbind   (service rpcbind enable)
</code></pre></div><p>看看有没有注册的端口：</p> <div class="language- extra-class"><pre class="language-text"><code>rpcinfo -p 127.0.0.1
</code></pre></div><p>3、启动NFS：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>systemctl <span class="token function">start</span> nfs（十以上版本sudo service nfs-server <span class="token function">start</span>）或者（systemctl <span class="token function">start</span> nfs-server）
</code></pre></div><p>再看注册的端口</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>rpcinfo <span class="token operator">-</span>p 127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1
</code></pre></div><p>发现多了很多</p> <p>4、配置nfs （NFS配置文件/etc/exports）</p> <p>创建目录**/it<strong>和</strong>/it/a**文件作为共享目录和共享文件</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir /it
touch /it/a
</code></pre></div><p>编辑文件(读写，同步，其它服务器挂载后root可操作)</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>vim <span class="token operator">/</span>etc/exports
<span class="token operator">/</span>it 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>2<span class="token punctuation">.</span>0/24<span class="token punctuation">(</span>rw<span class="token punctuation">,</span>sync<span class="token punctuation">,</span>no_root_squash<span class="token punctuation">)</span>
</code></pre></div><p>5、重启NFS</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl reload nfs或者exportfs -r
</code></pre></div><p>若出现exportfs: /home requires fsid= for NFS export</p> <p>解决方法：</p> <div class="language- extra-class"><pre class="language-text"><code>/home 192.167.253.0/24(fsid=0,rw,sync,no_root_squash) //加入fsid=0参数就可
</code></pre></div><p>nfs默认用户nfsnobody</p> <div class="language- extra-class"><pre class="language-text"><code>grep nfsno /etc/passwd
</code></pre></div><p>没有的话，自己创建</p> <div class="language- extra-class"><pre class="language-text"><code>groupadd -g -f 65534 nfsnobody
useradd nfsnobody -u 65534 -g nfsnobody -s /sbin/nologin -M
</code></pre></div><p><strong>6、授权</strong></p> <div class="language- extra-class"><pre class="language-text"><code>chown -R nfsnobody.nfsnobody /it
</code></pre></div><p><strong>7、检查自己</strong></p> <div class="language- extra-class"><pre class="language-text"><code>showmount -e 192.168.2.21  (exportfs)
</code></pre></div><p><strong>8、服务器本地挂载：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>mount -t nfs 192.168.2.21:/it /mnt
</code></pre></div><p><img src="/assets/img/2173981-20220506203334532-1671620935.82523f0f.png" alt="img"></p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>本地测试成功</p> <h3 id="二、客户端b下操作-ip地址-192-168-2-25"><a href="#二、客户端b下操作-ip地址-192-168-2-25" class="header-anchor">#</a> <strong>二、客户端B下操作（IP地址：192.168.2.25）</strong></h3> <p><strong>1、查看NFS安装情况：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>rpm -qa nfs-utils rpcbind
</code></pre></div><p>（安装nfs-utils的目的是为了获得showmount命令）
<strong>2、启动RPC：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>systemctl start rpcbind
</code></pre></div><p>开机自启动：</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl enable rpcbind
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>netstat -lntup|grep 111
</code></pre></div><p><img src="/assets/img/2173981-20220506204155372-1882109555.0f96b485.png" alt="img"></p> <p><strong>3、查看NFS服务器提供的共享目录</strong></p> <div class="language- extra-class"><pre class="language-text"><code>showmount -e 192.168.2.21
</code></pre></div><p>{
i、若出现clnt_create: RPC: Program not registered：程序没有注册</p> <p><img src="/assets/img/2173981-20220506210301238-310230896.e8e4c988.png" alt="img"></p> <p>说明：RPC服务器开启了，但NFS没有告诉RPC开启的服务端口
重启nfs（首先检查服务端NFS是否开启）</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl start nfs（十以上版本sudo service nfs-server start）或者（systemctl start nfs-server）
</code></pre></div><p>检查：rpcinfo -p 127.0.0.1（出现很多表明可以了）</p> <p>ii、若出现：
<img src="data:image/png;base64,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" alt="img"></p> <p>去服务端（192.168.2.21）关闭防火墙</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl stop firewalld
</code></pre></div><p>}
<strong>4、挂载测试（将192.168.2.21挂载到192.168.2.25下）</strong></p> <div class="language- extra-class"><pre class="language-text"><code>mount -t nfs 192.168.2.21:/it /mnt
</code></pre></div><p>若出现：
<img src="data:image/png;base64,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" alt="img">
则需要关掉防火墙：service firewalld stop</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p><img src="/assets/img/2173981-20220506210217330-577826536.9e36a7f6.png" alt="img"></p> <p>挂载成功。</p> <h3 id="三、nfs客户端开机自启动挂载"><a href="#三、nfs客户端开机自启动挂载" class="header-anchor">#</a> 三、<strong>NFS客户端开机自启动挂载</strong></h3> <p>方法一：/etc/rc.local</p> <div class="language- extra-class"><pre class="language-text"><code>chmod +x /etc/rc.d/rc.local
</code></pre></div><p><img src="/assets/img/2173981-20220609112841411-1296895740.d6458312.png" alt="img"></p> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/rc.local
在底部加上
/bin/mount -t nfs 192.168.109.132:/it /mnt
(将192.168.109.132挂载到192.168.109.131下)　
</code></pre></div><p>然后reboot重启
查看是否成功
<img src="/assets/img/2173981-20220609113103144-1450456779.906a3a1e.png" alt="img"></p> <p>方法二：放入vim /etc/fstab（有坑）</p> <div class="language- extra-class"><pre class="language-text"><code>192.168.109.132:/it  /mnt  nfs defaults   0 0
</code></pre></div><p>开启延迟满足的服务remote-fs.target(centos7)  netfs(centos6)</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl start remote-fs.target
systemctl enable remote-fs.target
systemctl status remote-fs.target
</code></pre></div><h3 id="debian-统信uos的nfs只是安装包不同"><a href="#debian-统信uos的nfs只是安装包不同" class="header-anchor">#</a> <strong>Debian）统信uos的NFS只是安装包不同</strong></h3> <p><strong>服务器安装包：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>apt-get install nfs-kernel-server
</code></pre></div><p><strong>客户端安装包：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>apt install -y nfs-common　
dpkg -l nfs-kernel-server查看包
</code></pre></div><h2 id="收集示例2"><a href="#收集示例2" class="header-anchor">#</a> 收集示例2</h2> <h3 id="nfs-server"><a href="#nfs-server" class="header-anchor">#</a> NFS Server</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code>NFS Server
1<span class="token punctuation">.</span> 安装nfs-server
　　<span class="token comment"># yum install -y nfs-utils</span>

2<span class="token punctuation">.</span> 创建NFS目录
　　<span class="token comment"># mkdir /nfs</span>

3<span class="token punctuation">.</span> 配置NFS目录
 

　　<span class="token comment"># echo &quot;/nfs    *(rw,sync,no_root_squash)&quot; &gt;&gt; /etc/exports</span>

　　参数说明： 

　　　　rw 读写
　　　　ro 只读
　　　　sync 数据直接写入磁盘
　　　　async 数据先写入内存
　　　　no_root_squash 对root用户不压制，在服务端都映射为服务端的root用户
　　　　root_squash 如果客户端是用户root操作，会被压制成nobody用户
　　　　all_squash 不管客户端的使用nfs的用户是谁，都会压制成nobody用户
　　　　nonuid=uid: 指定uid的值
　　　　anongid=gid:指定gid的值

 

　　<span class="token comment"># exportfs -rv　　# 立即生效</span>

4<span class="token punctuation">.</span> 启动NFS服务
　　<span class="token comment"># systemctl enable --now nfs-server.service</span>

　　<span class="token comment"># showmount -e</span>





mkdir <span class="token operator">/</span>zsdata
chmod o+w <span class="token operator">/</span>zsdata/

vim <span class="token operator">/</span>etc/exports


</code></pre></div><h3 id="nfs-client"><a href="#nfs-client" class="header-anchor">#</a> NFS Client</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code>
NFS Client<span class="token punctuation">(</span>方法一<span class="token punctuation">)</span>
1<span class="token punctuation">.</span> 安装nfs-client
　　<span class="token comment"># yum install -y nfs-utils</span>

2<span class="token punctuation">.</span> 创建挂载目录
　　<span class="token comment"># mkdir /var/nfs</span>

3<span class="token punctuation">.</span> 查看NFS Server目录
　　<span class="token comment"># showmount -e nfs-server-ip</span>

4<span class="token punctuation">.</span> 挂载NFS Server目录
　　<span class="token comment"># mount -t nfs nfs-server-ip:/nfs /var/nfs</span>

 

NFS Client<span class="token punctuation">(</span>方法二<span class="token punctuation">)</span>
要实现开机自动挂载，通常将挂载配置信息直接写入到 <span class="token operator">/</span>etc/fstab文件中。
​autofs自动挂载服务是一种Linux系统守护进程，当检测到用户访问一个尚未挂载的文件系统时，会自动根据配置文件进行挂载（动态挂载）。

 

1<span class="token punctuation">.</span> 安装autofs
　　<span class="token comment"># yum install autofs</span>

2<span class="token punctuation">.</span> 创建挂载目录
　　<span class="token comment"># mkdir /var/nfs</span>

3<span class="token punctuation">.</span> 自动挂载NFS配置
　　<span class="token comment"># echo &quot;/var/nfs    /etc/auto.nfs&quot; &gt;&gt; /etc/auto.master</span>

　　<span class="token comment"># echo &quot;data -fstype=nfs nfs-server-ip:/nfs&quot; &gt;&gt; /etc/auto.nfs</span>

4<span class="token punctuation">.</span> 启动autofs服务
　　<span class="token comment"># systemctl enable --now autofs.service</span>
</code></pre></div><h2 id="收集示例3"><a href="#收集示例3" class="header-anchor">#</a> 收集示例3</h2> <h3 id="nfs-server-2"><a href="#nfs-server-2" class="header-anchor">#</a> NFS Server</h3> <p>1、安装nfs服务</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>yum <span class="token operator">-</span>y install rpcbind nfs-utils
</code></pre></div><p>2、创建共享目录</p> <p>在服务器上创建共享目录，并设置权限。</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>mkdir <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>share/
chmod 755 <span class="token operator">-</span>R <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>share/
</code></pre></div><p>3、配置NFS</p> <p>nfs的配置文件是 /etc/exports ，在配置文件中加入一行：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>share/ 192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>11<span class="token punctuation">.</span>34<span class="token punctuation">(</span>rw<span class="token punctuation">,</span>no_root_squash<span class="token punctuation">,</span>no_all_squash<span class="token punctuation">,</span>sync<span class="token punctuation">)</span>
</code></pre></div><p>这行代码的意思是把共享目录/data/share/共享给192.168.11.34这个客户端ip，后面括号里的内容是权限参数，其中：</p> <p>rw 表示设置目录可读写。</p> <p>sync 表示数据会同步写入到内存和硬盘中，相反 rsync 表示数据会先暂存于内存中，而非直接写入到硬盘中。</p> <p>no_root_squash NFS客户端连接服务端时如果使用的是root的话，那么对服务端分享的目录来说，也拥有root权限。</p> <p>no_all_squash 不论NFS客户端连接服务端时使用什么用户，对服务端分享的目录来说都不会拥有匿名用户权限。</p> <p>如果有多个共享目录配置，则使用多行，一行一个配置。保存好配置文件后，需要执行以下命令使配置立即生效：</p> <div class="language- extra-class"><pre class="language-text"><code>exportfs -r
</code></pre></div><p>4.设置防火墙</p> <p>如果你的系统没有开启防火墙，那么该步骤可以省略。</p> <p>NFS的防火墙特别难搞，因为除了固定的port111、2049外，还有其他服务如rpc.mounted等开启的不固定的端口，这样对防火墙来说就比较麻烦了。为了解决这个问题，我们可以设置NFS服务的端口配置文件。</p> <p>修改/etc/sysconfig/nfs文件，将下列内容的注释去掉，如果没有则添加：</p> <div class="language- extra-class"><pre class="language-text"><code>RQUOTAD_PORT=1001
LOCKD_TCPPORT=30001
LOCKD_UDPPORT=30002
MOUNTD_PORT=1002
</code></pre></div><p>保存好后，将端口加入到防火墙允许策略中。执行：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>firewall-cmd <span class="token operator">--</span>zone=public <span class="token operator">--</span><span class="token function">add-port</span>=111/tcp <span class="token operator">--</span><span class="token function">add-port</span>=111/udp <span class="token operator">--</span><span class="token function">add-port</span>=2049/tcp <span class="token operator">--</span><span class="token function">add-port</span>=2049/udp <span class="token operator">--</span><span class="token function">add-port</span>=1001/tcp <span class="token operator">--</span><span class="token function">add-port</span>=1001/udp <span class="token operator">--</span><span class="token function">add-port</span>=1002/tcp <span class="token operator">--</span><span class="token function">add-port</span>=1002/udp <span class="token operator">--</span><span class="token function">add-port</span>=30001/tcp <span class="token operator">--</span><span class="token function">add-port</span>=30002/udp <span class="token operator">--</span>permanent
firewall-cmd <span class="token operator">--</span>reload
</code></pre></div><p>5.启动服务</p> <p>按顺序启动rpcbind和nfs服务：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>systemctl <span class="token function">start</span> rpcbind
systemctl <span class="token function">start</span> nfs
</code></pre></div><p>加入开机启动：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>systemctl enable rpcbind 
systemctl enable nfs
</code></pre></div><p>nfs服务启动后，可以使用命令 rpcinfo -p 查看端口是否生效。</p> <p>服务器的后，我们可以使用 showmount 命令来查看服务端(本机)是否可连接：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># showmount <span class="token operator">-</span>e localhost
Export list <span class="token keyword">for</span> <span class="token literal-property property">localhost</span><span class="token operator">:</span>
<span class="token operator">/</span>data<span class="token operator">/</span>share <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.34</span>
</code></pre></div><p>出现上面结果表明NFS服务端配置正常。</p> <h3 id="nfs-client-2"><a href="#nfs-client-2" class="header-anchor">#</a> NFS Client</h3> <p><strong>1.安装rpcbind服务</strong></p> <p>客户端只需要安装rpcbind服务即可，无需安装nfs或开启nfs服务。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>yum <span class="token operator">-</span>y install rpcbind
</code></pre></div><p><strong>2.挂载远程nfs文件系统</strong></p> <p>查看服务端已共享的目录:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># showmount <span class="token operator">-</span>e <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.31</span>
Export list <span class="token keyword">for</span> <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.31</span><span class="token operator">:</span>
<span class="token operator">/</span>data<span class="token operator">/</span>share <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.34</span>
</code></pre></div><p>建立挂载目录，执行挂载命令：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>mkdir <span class="token operator">-</span>p <span class="token operator">/</span>mnt<span class="token operator">/</span>share
mount <span class="token operator">-</span>t nfs <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.34</span><span class="token operator">:</span><span class="token operator">/</span>data<span class="token operator">/</span>share <span class="token operator">/</span>mnt<span class="token operator">/</span>share<span class="token operator">/</span> <span class="token operator">-</span>o nolock<span class="token punctuation">,</span>nfsvers<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>vers<span class="token operator">=</span><span class="token number">3</span>
</code></pre></div><p>如果不加 -o nolock,nfsvers=3 则在挂载目录下的文件属主和组都是nobody，如果指定nfsvers=3则显示root。</p> <p>如果要解除挂载，可执行命令：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>umount <span class="token operator">/</span>mnt<span class="token operator">/</span>share
</code></pre></div><p><strong>3.开机自动挂载</strong></p> <p>如果按本文上面的部分配置好，NFS即部署好了，但是如果你重启客户端系统，发现不能随机器一起挂载，需要再次手动操作挂载，这样操作比较麻烦，因此我们需要设置开机自动挂载。我们不要把挂载项写到/etc/fstab文件中，因为开机时先挂载本机磁盘再启动网络，而NFS是需要网络启动后才能挂载的，所以我们把挂载命令写入到/etc/rc.d/rc.local文件中即可。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>rc<span class="token punctuation">.</span>d<span class="token operator">/</span>rc<span class="token punctuation">.</span>local
#在文件最后添加一行：
mount <span class="token operator">-</span>t nfs <span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.34</span><span class="token operator">:</span><span class="token operator">/</span>data<span class="token operator">/</span>share <span class="token operator">/</span>mnt<span class="token operator">/</span>share<span class="token operator">/</span> <span class="token operator">-</span>o nolock<span class="token punctuation">,</span>nfsvers<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>vers<span class="token operator">=</span><span class="token number">3</span>
</code></pre></div><p>保存并重启机器看看。</p> <p><strong>测试验证</strong></p> <p>查看挂载结果，在客户端输入 df -h</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>文件系统    容量 已用 可用 已用<span class="token operator">%</span> 挂载点
<span class="token operator">/</span>dev<span class="token operator">/</span>mapper<span class="token operator">/</span>centos<span class="token operator">-</span>root   18G <span class="token number">5</span><span class="token punctuation">.</span>0G 13G <span class="token number">29</span><span class="token operator">%</span> <span class="token operator">/</span>
devtmpfs      904M  <span class="token number">0</span> 904M <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>dev
tmpfs       916M  <span class="token number">0</span> 916M <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>dev<span class="token operator">/</span>shm
tmpfs       916M <span class="token number">9</span><span class="token punctuation">.</span>3M 906M <span class="token number">2</span><span class="token operator">%</span> <span class="token operator">/</span>run
tmpfs       916M  <span class="token number">0</span> 916M <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>sys<span class="token operator">/</span>fs<span class="token operator">/</span>cgroup
<span class="token operator">/</span>dev<span class="token operator">/</span>sda1      497M 164M 334M <span class="token number">33</span><span class="token operator">%</span> <span class="token operator">/</span>boot
tmpfs       184M  <span class="token number">0</span> 184M <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>run<span class="token operator">/</span>user<span class="token operator">/</span><span class="token number">0</span>
<span class="token number">192.168</span><span class="token number">.11</span><span class="token number">.31</span><span class="token operator">:</span><span class="token operator">/</span>data<span class="token operator">/</span>share  18G <span class="token number">1</span><span class="token punctuation">.</span>7G 16G <span class="token number">10</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>share
</code></pre></div><p>看到最后一行了没，说明已经挂载成功了。接下来就可以在客户端上进入目录/mnt/share下，新建/删除文件，然后在服务端的目录/data/share查看是不是有效果了，同样反过来在服务端操作在客户端对应的目录下看效果。</p> <p><strong>总结</strong></p> <p>以上就是这篇文章的全部内容了，希望本文的内容对大家的学习或者工作具有一定的参考学习价值，如果有疑问大家可以留言交流，谢谢大家对ZaLou.Cn的支持。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2024年1月5日星期五上午11点23分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zs-use/linux/基本使用/系统管理--3.2.系统管理-定时任务.html" class="prev">
        系统管理--3.2.系统管理-定时任务
      </a></span> <!----></p></div>  <!----></main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.4d83e60b.js" defer></script><script src="/assets/js/2.efb65d55.js" defer></script><script src="/assets/js/27.349713b1.js" defer></script><script src="/assets/js/102.1846a95e.js" defer></script>
  </body>
</html>
