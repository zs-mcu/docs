<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实战脚本简述 | 小邵子</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script charset="utf-8" src="/js/custom.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b2140ca1d9ce57e6aac1a7709f5f5fe7";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="小邵子的个人笔记">
    <meta name="author" content="小邵子">
    <meta name="keywords" content="张邵,小邵子的 vuepress 个人博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9632ee24.css" as="style"><link rel="preload" href="/assets/js/app.23d97264.js" as="script"><link rel="preload" href="/assets/js/2.19cde076.js" as="script"><link rel="preload" href="/assets/js/1.6a212f00.js" as="script"><link rel="preload" href="/assets/js/210.803d1b1c.js" as="script"><link rel="preload" href="/assets/js/95.7bf6c681.js" as="script"><link rel="prefetch" href="/assets/js/10.7915c272.js"><link rel="prefetch" href="/assets/js/100.b00e5e05.js"><link rel="prefetch" href="/assets/js/101.3df57c19.js"><link rel="prefetch" href="/assets/js/102.7c83775d.js"><link rel="prefetch" href="/assets/js/103.b82bc70c.js"><link rel="prefetch" href="/assets/js/104.faa89803.js"><link rel="prefetch" href="/assets/js/105.5c996ab7.js"><link rel="prefetch" href="/assets/js/106.a7b4abba.js"><link rel="prefetch" href="/assets/js/107.57a3cc61.js"><link rel="prefetch" href="/assets/js/108.056ab1a7.js"><link rel="prefetch" href="/assets/js/109.b2bf9232.js"><link rel="prefetch" href="/assets/js/11.edfb11c5.js"><link rel="prefetch" href="/assets/js/110.594a1555.js"><link rel="prefetch" href="/assets/js/111.56a0514e.js"><link rel="prefetch" href="/assets/js/112.33b4b2b4.js"><link rel="prefetch" href="/assets/js/113.1d55e18e.js"><link rel="prefetch" href="/assets/js/114.c9157141.js"><link rel="prefetch" href="/assets/js/115.21eac294.js"><link rel="prefetch" href="/assets/js/116.401c7cae.js"><link rel="prefetch" href="/assets/js/117.df50dddc.js"><link rel="prefetch" href="/assets/js/118.34af4d6e.js"><link rel="prefetch" href="/assets/js/119.893d782e.js"><link rel="prefetch" href="/assets/js/12.a805fee5.js"><link rel="prefetch" href="/assets/js/120.91e73cd4.js"><link rel="prefetch" href="/assets/js/121.530b3371.js"><link rel="prefetch" href="/assets/js/122.599ed513.js"><link rel="prefetch" href="/assets/js/123.be9f89bd.js"><link rel="prefetch" href="/assets/js/124.c426971c.js"><link rel="prefetch" href="/assets/js/125.385d91f0.js"><link rel="prefetch" href="/assets/js/126.e61e6902.js"><link rel="prefetch" href="/assets/js/127.cab1d994.js"><link rel="prefetch" href="/assets/js/128.a2aa5ffd.js"><link rel="prefetch" href="/assets/js/129.980960e0.js"><link rel="prefetch" href="/assets/js/13.9c1fbf8f.js"><link rel="prefetch" href="/assets/js/130.b1e25d3d.js"><link rel="prefetch" href="/assets/js/131.2b4672c9.js"><link rel="prefetch" href="/assets/js/132.27d6f1fb.js"><link rel="prefetch" href="/assets/js/133.3e275047.js"><link rel="prefetch" href="/assets/js/134.889dee67.js"><link rel="prefetch" href="/assets/js/135.e2128c6b.js"><link rel="prefetch" href="/assets/js/136.6bc47460.js"><link rel="prefetch" href="/assets/js/137.fb8912bd.js"><link rel="prefetch" href="/assets/js/138.0bbd79bf.js"><link rel="prefetch" href="/assets/js/139.9475ea76.js"><link rel="prefetch" href="/assets/js/14.6a8f92a5.js"><link rel="prefetch" href="/assets/js/140.1054026a.js"><link rel="prefetch" href="/assets/js/141.65f21d97.js"><link rel="prefetch" href="/assets/js/142.1ee598b2.js"><link rel="prefetch" href="/assets/js/143.175c2131.js"><link rel="prefetch" href="/assets/js/144.e7e37eda.js"><link rel="prefetch" href="/assets/js/145.efab329f.js"><link rel="prefetch" href="/assets/js/146.a46b45ca.js"><link rel="prefetch" href="/assets/js/147.0401fa36.js"><link rel="prefetch" href="/assets/js/148.4180eb56.js"><link rel="prefetch" href="/assets/js/149.d0ff073d.js"><link rel="prefetch" href="/assets/js/15.0138e256.js"><link rel="prefetch" href="/assets/js/150.50ee5fc4.js"><link rel="prefetch" href="/assets/js/151.4cb5ff0a.js"><link rel="prefetch" href="/assets/js/152.2eb7b5b3.js"><link rel="prefetch" href="/assets/js/153.96a700a0.js"><link rel="prefetch" href="/assets/js/154.f40b40ad.js"><link rel="prefetch" href="/assets/js/155.4a14f9b4.js"><link rel="prefetch" href="/assets/js/156.d98b8784.js"><link rel="prefetch" href="/assets/js/157.0c3917ea.js"><link rel="prefetch" href="/assets/js/158.fa7fcda0.js"><link rel="prefetch" href="/assets/js/159.79b53b8e.js"><link rel="prefetch" href="/assets/js/16.3e67fece.js"><link rel="prefetch" href="/assets/js/160.c634e1b7.js"><link rel="prefetch" href="/assets/js/161.19148550.js"><link rel="prefetch" href="/assets/js/162.c3c12ada.js"><link rel="prefetch" href="/assets/js/163.7bcf9fe6.js"><link rel="prefetch" href="/assets/js/164.c7f5b3a9.js"><link rel="prefetch" href="/assets/js/165.9f8f9c2b.js"><link rel="prefetch" href="/assets/js/166.fefbe8eb.js"><link rel="prefetch" href="/assets/js/167.b9ba41c7.js"><link rel="prefetch" href="/assets/js/168.6ebc2e75.js"><link rel="prefetch" href="/assets/js/169.ae0d806f.js"><link rel="prefetch" href="/assets/js/17.0dbd2074.js"><link rel="prefetch" href="/assets/js/170.5dfa7b7d.js"><link rel="prefetch" href="/assets/js/171.82149e65.js"><link rel="prefetch" href="/assets/js/172.ed074e2a.js"><link rel="prefetch" href="/assets/js/173.97d13087.js"><link rel="prefetch" href="/assets/js/174.ac5b6087.js"><link rel="prefetch" href="/assets/js/175.9f5b5bf7.js"><link rel="prefetch" href="/assets/js/176.cad2871a.js"><link rel="prefetch" href="/assets/js/177.957f8a02.js"><link rel="prefetch" href="/assets/js/178.db8018a9.js"><link rel="prefetch" href="/assets/js/179.bdfc6fb2.js"><link rel="prefetch" href="/assets/js/18.c2a8b12f.js"><link rel="prefetch" href="/assets/js/180.bd7b211a.js"><link rel="prefetch" href="/assets/js/181.53152a6b.js"><link rel="prefetch" href="/assets/js/182.e88cd493.js"><link rel="prefetch" href="/assets/js/183.d0d6aa71.js"><link rel="prefetch" href="/assets/js/184.966ae2e6.js"><link rel="prefetch" href="/assets/js/185.b344e670.js"><link rel="prefetch" href="/assets/js/186.e0a539ba.js"><link rel="prefetch" href="/assets/js/187.0b24b0a0.js"><link rel="prefetch" href="/assets/js/188.06ce919a.js"><link rel="prefetch" href="/assets/js/189.b4f57b6b.js"><link rel="prefetch" href="/assets/js/19.7dc14ad4.js"><link rel="prefetch" href="/assets/js/190.044edb26.js"><link rel="prefetch" href="/assets/js/191.3ad624ff.js"><link rel="prefetch" href="/assets/js/192.27ac44f4.js"><link rel="prefetch" href="/assets/js/193.f2d2c396.js"><link rel="prefetch" href="/assets/js/194.fd5cdff6.js"><link rel="prefetch" href="/assets/js/195.a4320133.js"><link rel="prefetch" href="/assets/js/196.5535e48f.js"><link rel="prefetch" href="/assets/js/197.32f8c39d.js"><link rel="prefetch" href="/assets/js/198.dc3fa433.js"><link rel="prefetch" href="/assets/js/199.1113142c.js"><link rel="prefetch" href="/assets/js/20.5af91ec8.js"><link rel="prefetch" href="/assets/js/200.5d46d288.js"><link rel="prefetch" href="/assets/js/201.a5df6de9.js"><link rel="prefetch" href="/assets/js/202.058d1412.js"><link rel="prefetch" href="/assets/js/203.493414b5.js"><link rel="prefetch" href="/assets/js/204.dc0f77b9.js"><link rel="prefetch" href="/assets/js/205.52f6c699.js"><link rel="prefetch" href="/assets/js/206.da4ad8f7.js"><link rel="prefetch" href="/assets/js/207.ef4af35f.js"><link rel="prefetch" href="/assets/js/208.d8dbe705.js"><link rel="prefetch" href="/assets/js/209.a11b3c60.js"><link rel="prefetch" href="/assets/js/21.90a016d0.js"><link rel="prefetch" href="/assets/js/211.d7a270c1.js"><link rel="prefetch" href="/assets/js/212.c4d83ac6.js"><link rel="prefetch" href="/assets/js/213.747b4c54.js"><link rel="prefetch" href="/assets/js/214.90afc3b8.js"><link rel="prefetch" href="/assets/js/215.c36c6474.js"><link rel="prefetch" href="/assets/js/216.b23d9e20.js"><link rel="prefetch" href="/assets/js/217.6bf630ef.js"><link rel="prefetch" href="/assets/js/218.29db5106.js"><link rel="prefetch" href="/assets/js/219.9980c2e0.js"><link rel="prefetch" href="/assets/js/22.5a4420de.js"><link rel="prefetch" href="/assets/js/220.db573e43.js"><link rel="prefetch" href="/assets/js/221.db6b266d.js"><link rel="prefetch" href="/assets/js/222.8c89f281.js"><link rel="prefetch" href="/assets/js/223.c09abd72.js"><link rel="prefetch" href="/assets/js/224.772a3399.js"><link rel="prefetch" href="/assets/js/225.68e5c211.js"><link rel="prefetch" href="/assets/js/226.0125f613.js"><link rel="prefetch" href="/assets/js/227.28fa0ea8.js"><link rel="prefetch" href="/assets/js/228.f65b5644.js"><link rel="prefetch" href="/assets/js/229.a2813ffe.js"><link rel="prefetch" href="/assets/js/23.d209d65f.js"><link rel="prefetch" href="/assets/js/230.a3a7e37a.js"><link rel="prefetch" href="/assets/js/231.21021ca0.js"><link rel="prefetch" href="/assets/js/232.2c188f38.js"><link rel="prefetch" href="/assets/js/233.8c1a198b.js"><link rel="prefetch" href="/assets/js/234.e1661b6b.js"><link rel="prefetch" href="/assets/js/235.545677cc.js"><link rel="prefetch" href="/assets/js/236.4999c906.js"><link rel="prefetch" href="/assets/js/237.e2480733.js"><link rel="prefetch" href="/assets/js/238.4c88fff6.js"><link rel="prefetch" href="/assets/js/239.46ada934.js"><link rel="prefetch" href="/assets/js/24.315fc339.js"><link rel="prefetch" href="/assets/js/240.961d3ff7.js"><link rel="prefetch" href="/assets/js/241.c26332fb.js"><link rel="prefetch" href="/assets/js/25.fa82ecb8.js"><link rel="prefetch" href="/assets/js/26.e5cabede.js"><link rel="prefetch" href="/assets/js/27.27bf867f.js"><link rel="prefetch" href="/assets/js/28.35a62b5d.js"><link rel="prefetch" href="/assets/js/29.b582504c.js"><link rel="prefetch" href="/assets/js/3.137d7fb7.js"><link rel="prefetch" href="/assets/js/30.7dddeb84.js"><link rel="prefetch" href="/assets/js/31.b827d209.js"><link rel="prefetch" href="/assets/js/32.a2fb186d.js"><link rel="prefetch" href="/assets/js/33.95417d79.js"><link rel="prefetch" href="/assets/js/34.3460bedb.js"><link rel="prefetch" href="/assets/js/35.57e9ac14.js"><link rel="prefetch" href="/assets/js/36.c0538d79.js"><link rel="prefetch" href="/assets/js/37.d77433b2.js"><link rel="prefetch" href="/assets/js/38.ab1126a8.js"><link rel="prefetch" href="/assets/js/39.c92a510c.js"><link rel="prefetch" href="/assets/js/4.090ab4cf.js"><link rel="prefetch" href="/assets/js/40.78d6ebb4.js"><link rel="prefetch" href="/assets/js/41.6a6d6427.js"><link rel="prefetch" href="/assets/js/42.e0536f84.js"><link rel="prefetch" href="/assets/js/43.7ce559c0.js"><link rel="prefetch" href="/assets/js/44.64425857.js"><link rel="prefetch" href="/assets/js/45.1f14849c.js"><link rel="prefetch" href="/assets/js/46.950c3d48.js"><link rel="prefetch" href="/assets/js/47.7db49325.js"><link rel="prefetch" href="/assets/js/48.db62adfc.js"><link rel="prefetch" href="/assets/js/49.7c27627d.js"><link rel="prefetch" href="/assets/js/5.f967fed9.js"><link rel="prefetch" href="/assets/js/50.f72539bb.js"><link rel="prefetch" href="/assets/js/51.8dce7ab9.js"><link rel="prefetch" href="/assets/js/52.79c8a090.js"><link rel="prefetch" href="/assets/js/53.1935b7c4.js"><link rel="prefetch" href="/assets/js/54.d350bba1.js"><link rel="prefetch" href="/assets/js/55.cd413de6.js"><link rel="prefetch" href="/assets/js/56.fb290cc2.js"><link rel="prefetch" href="/assets/js/57.8393199b.js"><link rel="prefetch" href="/assets/js/58.effd55d6.js"><link rel="prefetch" href="/assets/js/59.4379f4cb.js"><link rel="prefetch" href="/assets/js/6.8af02026.js"><link rel="prefetch" href="/assets/js/60.6701df1e.js"><link rel="prefetch" href="/assets/js/61.0d267d37.js"><link rel="prefetch" href="/assets/js/62.0ba34269.js"><link rel="prefetch" href="/assets/js/63.d0a66185.js"><link rel="prefetch" href="/assets/js/64.77db7faa.js"><link rel="prefetch" href="/assets/js/65.e6e1db4f.js"><link rel="prefetch" href="/assets/js/66.9aa6a185.js"><link rel="prefetch" href="/assets/js/67.5c445f92.js"><link rel="prefetch" href="/assets/js/68.ace65bab.js"><link rel="prefetch" href="/assets/js/69.8e2b6c4f.js"><link rel="prefetch" href="/assets/js/7.ad654ca9.js"><link rel="prefetch" href="/assets/js/70.1115a720.js"><link rel="prefetch" href="/assets/js/71.ea17c072.js"><link rel="prefetch" href="/assets/js/72.775a44a3.js"><link rel="prefetch" href="/assets/js/73.74473e8e.js"><link rel="prefetch" href="/assets/js/74.1a073c00.js"><link rel="prefetch" href="/assets/js/75.974b2337.js"><link rel="prefetch" href="/assets/js/76.6b0aca14.js"><link rel="prefetch" href="/assets/js/77.748abed0.js"><link rel="prefetch" href="/assets/js/78.60bce1a9.js"><link rel="prefetch" href="/assets/js/79.e8c89ad7.js"><link rel="prefetch" href="/assets/js/80.6be2e374.js"><link rel="prefetch" href="/assets/js/81.150539ad.js"><link rel="prefetch" href="/assets/js/82.92e3c7ea.js"><link rel="prefetch" href="/assets/js/83.0bcf2711.js"><link rel="prefetch" href="/assets/js/84.0a21c91a.js"><link rel="prefetch" href="/assets/js/85.1411f59d.js"><link rel="prefetch" href="/assets/js/86.05fee138.js"><link rel="prefetch" href="/assets/js/87.932322c9.js"><link rel="prefetch" href="/assets/js/88.fc17c3cf.js"><link rel="prefetch" href="/assets/js/89.6752a85f.js"><link rel="prefetch" href="/assets/js/90.9dcc2288.js"><link rel="prefetch" href="/assets/js/91.4f28546b.js"><link rel="prefetch" href="/assets/js/92.51befc75.js"><link rel="prefetch" href="/assets/js/93.1140bc15.js"><link rel="prefetch" href="/assets/js/94.06cbeed7.js"><link rel="prefetch" href="/assets/js/96.2b482421.js"><link rel="prefetch" href="/assets/js/97.dcdfb785.js"><link rel="prefetch" href="/assets/js/98.b296c48c.js"><link rel="prefetch" href="/assets/js/99.7de95b4d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4fb35055.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9632ee24.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小邵子</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>shell编程</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zs-use/linux/shell%E7%BC%96%E7%A8%8B/" aria-current="page" class="sidebar-link">说明</a></li><li><a href="/zs-use/linux/shell编程/1、hello world.html" class="sidebar-link">1、hello world</a></li><li><a href="/zs-use/linux/shell编程/2、base基本功能.html" class="sidebar-link">2、base基本功能</a></li><li><a href="/zs-use/linux/shell编程/3、变量和运算符.html" class="sidebar-link">3、变量和运算符</a></li><li><a href="/zs-use/linux/shell编程/4、条件判断.html" class="sidebar-link">4、条件判断</a></li><li><a href="/zs-use/linux/shell编程/5、流程控制.html" class="sidebar-link">5、流程控制</a></li><li><a href="/zs-use/linux/shell编程/6、数组.html" class="sidebar-link">6、数组</a></li><li><a href="/zs-use/linux/shell编程/工具--cut.html" class="sidebar-link">工具--cut</a></li><li><a href="/zs-use/linux/shell编程/实战脚本简述01.html" class="active sidebar-link">实战脚本简述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#流程控制" class="sidebar-link">流程控制</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#工具命令" class="sidebar-link">工具命令</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#符号" class="sidebar-link">符号</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#其他-2" class="sidebar-link">其他</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#变量-2" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/zs-use/linux/shell编程/实战脚本简述01.html#常用代码段" class="sidebar-link">常用代码段</a></li></ul></li><li><a href="/zs-use/linux/shell编程/实战脚本示例01.html" class="sidebar-link">实战脚本示例01</a></li><li><a href="/zs-use/linux/shell编程/实战脚本示例02.html" class="sidebar-link">实战脚本示例02</a></li><li><a href="/zs-use/linux/shell编程/实战脚本示例03.html" class="sidebar-link">/zs-use/linux/shell编程/实战脚本示例03.html</a></li><li><a href="/zs-use/linux/shell编程/实战脚本示例04.html" class="sidebar-link">实战脚本示例04</a></li><li><a href="/zs-use/linux/shell编程/实战脚本示例05.html" class="sidebar-link">实战脚本示例</a></li><li><a href="/zs-use/linux/shell编程/实战脚本示例06.html" class="sidebar-link">实战脚本示例06</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="实战脚本简述"><a href="#实战脚本简述" class="header-anchor">#</a> 实战脚本简述</h1> <h2 id="流程控制"><a href="#流程控制" class="header-anchor">#</a> 流程控制</h2> <h3 id="if"><a href="#if" class="header-anchor">#</a> if</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	程序
<span class="token keyword">fi</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
	<span class="token keyword">then</span>
		程序
<span class="token keyword">fi</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
	<span class="token keyword">then</span>
		条件成立时，执行的程序
	<span class="token keyword">else</span>
		条件不成立时，执行的另一个程序
<span class="token keyword">fi</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式1 <span class="token punctuation">]</span>
	<span class="token keyword">then</span>
		条件成立时，执行的程序
<span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件判断式2 <span class="token punctuation">]</span>	
	<span class="token keyword">then</span>
		条件成立时，执行的程序

<span class="token punctuation">..</span>.省略更多条件<span class="token punctuation">..</span>.

<span class="token keyword">else</span>
		条件不成立时，执行的另一个程序
<span class="token keyword">fi</span>
</code></pre></div><h3 id="case"><a href="#case" class="header-anchor">#</a> case</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span>
	<span class="token string">&quot;值1&quot;</span><span class="token punctuation">)</span>
		如果变量的值等于值1，则执行程序1
		<span class="token punctuation">;</span><span class="token punctuation">;</span>
	<span class="token string">&quot;值1&quot;</span><span class="token punctuation">)</span>
		如果变量的值等于值2，则执行程序2
		<span class="token punctuation">;</span><span class="token punctuation">;</span>

	…省略其他分支…

	*<span class="token punctuation">)</span>
		如果变量的值都不是以上的值，则执行此程序
		<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><h3 id="for"><a href="#for" class="header-anchor">#</a> for</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 值1 值2 值3 <span class="token punctuation">..</span>.
	<span class="token keyword">do</span> 
		程序
	<span class="token keyword">done</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> 初始值<span class="token punctuation">;</span>循环控制条件<span class="token punctuation">;</span>变量变化 <span class="token punctuation">))</span></span>
	<span class="token keyword">do</span>
		程序
	<span class="token keyword">done</span>
</code></pre></div><h3 id="while"><a href="#while" class="header-anchor">#</a> while</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
    <span class="token keyword">do</span>
        程序
    <span class="token keyword">done</span>
</code></pre></div><h3 id="until"><a href="#until" class="header-anchor">#</a> until</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">until</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
	<span class="token keyword">do</span>
		程序
	<span class="token keyword">done</span>
</code></pre></div><h3 id="特殊控制语句"><a href="#特殊控制语句" class="header-anchor">#</a> 特殊控制语句</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">exit</span> <span class="token punctuation">[</span>返回值<span class="token punctuation">]</span>

<span class="token builtin class-name">break</span>

<span class="token builtin class-name">continue</span>
</code></pre></div><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">function</span> 函数名 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	程序
<span class="token punctuation">}</span>
</code></pre></div><h2 id="工具命令"><a href="#工具命令" class="header-anchor">#</a> 工具命令</h2> <h3 id="cut"><a href="#cut" class="header-anchor">#</a> cut</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># cut [选项]  文件名</span>
常见选项：
    -c:	以字符为单位进行分割,截取
    -d:	自定义分隔符，默认为制表符<span class="token punctuation">\</span>t
    -f:	与-d一起使用，提取第几列

<span class="token punctuation">[</span>root@xiaoshaozi ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;zs=123=456=789&quot; | cut -d &quot;=&quot; -f 1,2,4</span>
<span class="token assign-left variable">zs</span><span class="token operator">=</span><span class="token number">123</span><span class="token operator">=</span><span class="token number">789</span>
</code></pre></div><h3 id="wc"><a href="#wc" class="header-anchor">#</a> wc</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># wc [选项] 文件名</span>
选项：
    -l：只统计行数
    -w：只统计单词数
    -m：只统计字符数
</code></pre></div><h3 id="seq"><a href="#seq" class="header-anchor">#</a> seq</h3> <p><code>seq</code>: 是一个序列（squeue ）的缩写，主要用来输出序列化的东西</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">seq</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 尾数						<span class="token comment">#从到尾数</span>
<span class="token function">seq</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 首数 尾数				<span class="token comment">#从首数到尾数</span>
<span class="token function">seq</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 首数 增量 尾数			<span class="token comment">#从首数以增量到尾数</span>

以指定增量从首数开始打印数字到尾数。

常用选项：
    <span class="token parameter variable">-f</span>	使用printf 样式的浮点格式
    <span class="token parameter variable">-s</span>	使用指定字符串分隔数字<span class="token punctuation">(</span>默认使用：<span class="token punctuation">\</span>n<span class="token punctuation">)</span>
    <span class="token parameter variable">-w</span>	在列前添加0 使得宽度相同【自动补位】
</code></pre></div><p>指定分割符</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -s '#' 5</span>
<span class="token number">1</span><span class="token comment">#2#3#4#5</span>

<span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -s ' ' 10</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">10</span>

<span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -w 10</span>
01
02
03
04
05
06
07
08
09
<span class="token number">10</span>

</code></pre></div><p>产生范围数字</p> <div class="language-shell extra-class"><pre class="language-shell"><code>产生-2~10内的整数，增量为2：

<span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -2 2 10</span>
<span class="token parameter variable">-2</span>
<span class="token number">0</span>
<span class="token number">2</span>
<span class="token number">4</span>
<span class="token number">6</span>
<span class="token number">8</span>
<span class="token number">10</span>


产生98~101之间的整数，并且要求输出数字宽度相同，不足的用0或空格补足：

<span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -f &quot;%03g&quot; 98 101</span>
098
099
<span class="token number">100</span>
<span class="token number">101</span>
<span class="token punctuation">[</span>root@server1 mnt<span class="token punctuation">]</span><span class="token comment"># seq -f &quot;%3g&quot; 98 101   </span>
 <span class="token number">98</span>
 <span class="token number">99</span>
<span class="token number">100</span>
<span class="token number">101</span>

注意：通过%后添加0替代空格补足空位
</code></pre></div><h3 id="awk"><a href="#awk" class="header-anchor">#</a> awk</h3> <h3 id="sed"><a href="#sed" class="header-anchor">#</a> sed</h3> <h3 id="column"><a href="#column" class="header-anchor">#</a> column</h3> <p>column对齐字段</p> <div class="language-shell extra-class"><pre class="language-shell"><code>常用选项：
    <span class="token parameter variable">-t</span> ：表格，默认以空格间隔
    -s：需要配合-t使用，指定分隔符
</code></pre></div><p>获取的文档版式比较乱</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token function">cat</span> <span class="token function">tee</span><span class="token punctuation">.</span>txt 
10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>161 <span class="token punctuation">|</span> SUCCESS <span class="token punctuation">|</span> rc=0 <span class="token punctuation">|</span> <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span> 21
10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>33 <span class="token punctuation">|</span> SUCCESS <span class="token punctuation">|</span> rc=0 <span class="token punctuation">|</span> <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span> 22
10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>10<span class="token punctuation">.</span>1 <span class="token punctuation">|</span> SUCCESS <span class="token punctuation">|</span> rc=0 <span class="token punctuation">|</span> <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span> 62
</code></pre></div><p>排版</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cat</span> tee.txt <span class="token operator">|</span><span class="token function">column</span> <span class="token parameter variable">-t</span> 
<span class="token number">10.10</span>.10.161  <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">21</span>
<span class="token number">10.10</span>.10.33   <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">22</span>
<span class="token number">10.10</span>.10.1    <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">62</span>
</code></pre></div><p>sort 多<a href="https://so.csdn.net/so/search?q=%E9%87%8D%E6%8E%92%E5%BA%8F&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">重排序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>整理</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> tee.txt <span class="token operator">|</span><span class="token function">column</span> <span class="token parameter variable">-t</span> <span class="token operator">|</span><span class="token function">sort</span>  <span class="token parameter variable">-k5r</span> <span class="token parameter variable">-k1</span>
<span class="token number">10.10</span>.10.97   <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">7</span>
<span class="token number">10.10</span>.10.98   <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">7</span>
<span class="token number">10.10</span>.10.99   <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">7</span>
<span class="token number">10.10</span>.10.129  <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">65</span>
<span class="token number">10.10</span>.10.130  <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">65</span>
<span class="token number">10.10</span>.10.131  <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">65</span>
<span class="token number">10.10</span>.10.1    <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">62</span>
<span class="token number">10.10</span>.10.2    <span class="token operator">|</span>  SUCCESS  <span class="token operator">|</span>  <span class="token assign-left variable">rc</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token operator">|</span>  <span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>  <span class="token number">62</span>
</code></pre></div><h3 id="expr"><a href="#expr" class="header-anchor">#</a> expr</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>正确： 所有操作符的两边，都需要有空格。
<span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># expr 1 + 1</span>
<span class="token number">2</span>
</code></pre></div><p><strong>&quot;index string chars&quot;用法示例。</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr index abcde dec   # 在 abcde 中搜索 d 在第几个位置</span>
<span class="token number">3</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr index abcde xdc   # 在 abcde 中搜索x没有，在搜索d</span>
<span class="token number">3</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr index abcde 1</span>
<span class="token number">0</span>

</code></pre></div><p><strong>&quot;substr string pos len&quot;用法示例。</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>该表达式是从string中取出从pos位置开始长度为len的子字符串。如果pos或len为非正整数时，将返回空字符串。

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr substr abcde 2 3</span>
bcd
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  expr substr abcde 2 4</span>
bcde
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  expr substr abcde 2 5</span>
bcde
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  expr substr abcde 2 0</span>
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr substr abcde 2 -1</span>
</code></pre></div><p><strong>&quot;length string&quot;用法示例。该表达式是返回string的长度，其中string不允许为空，否则将报错，所以可以用来判断变量是否为空。</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@xuexi ~<span class="token punctuation">]</span><span class="token comment"># expr length abcde</span>
<span class="token number">5</span>
 
<span class="token punctuation">[</span>root@xuexi ~<span class="token punctuation">]</span><span class="token comment"># expr length 111</span>
<span class="token number">3</span>
 
<span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># echo $xxx</span>
 
<span class="token punctuation">[</span>root@xuexi ~<span class="token punctuation">]</span><span class="token comment"># expr length $xxx</span>
expr: syntax error
</code></pre></div><p><strong>&quot;+ token&quot;用法示例。</strong></p> <p>expr中有些符号和关键字有特殊意义，如&quot;match&quot;、&quot;index&quot;、&quot;length&quot;，如果要让其成为字符，使用该表达式将任意token强制解析为普通字符串。格式：expr index 特殊关键字</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># expr index index d</span>
expr: 语法错误
<span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># expr index length g</span>
expr: 语法错误
<span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># expr index + length g</span>
<span class="token number">4</span>
</code></pre></div><p>对值为关键字的变量来说，则无所谓。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># len=lenght</span>
<span class="token punctuation">[</span>root@localhost scripts<span class="token punctuation">]</span><span class="token comment"># expr index $len g</span>
<span class="token number">4</span>
</code></pre></div><p><strong>&quot;string : REGEX&quot;字符串匹配示例。要输出匹配到的字符串结果，需要使用&quot;，否则返回的将是匹配到的字符串数量。</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#expr abcde : 'ab\(.*\)'   # 'ab\(.*\)'  ab代表不匹配 .代表匹配一个  .*匹配所有  \是为了转移字符，转移(  和)</span>
cde
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr abcde : 'ab\(.\)'</span>
c
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr abcde : 'ab\(..\)'</span>
<span class="token builtin class-name">cd</span>
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr abcde : 'ab.*'    #  不写() 代表反馈匹配上的数字各个数</span>
<span class="token number">5</span>
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr abcde : 'ab.'   </span>
<span class="token number">3</span>
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr abcde : '.*cd*'</span>
<span class="token number">4</span>
 
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat abc</span>
abcdwe
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># expr `cat abc` : 'ab\(..\)'</span>
<span class="token builtin class-name">cd</span>
</code></pre></div><h3 id="grep"><a href="#grep" class="header-anchor">#</a> grep</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@localhost ~]</span><span class="token comment"># grep [选项] '关键字' 文件名</span>
选项：
    <span class="token operator">-</span>i：				忽略大小写
    <span class="token operator">-</span>n：				输出行号
    <span class="token operator">-</span>v：				反向查找 
    ^<span class="token punctuation">,</span>$<span class="token punctuation">,</span>?<span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token namespace">[a-z]</span><span class="token punctuation">,</span><span class="token namespace">[x]</span>正则符号
    ^$				匹配空行
	^<span class="token punctuation">[</span><span class="token punctuation">[</span>:space:<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token comment">#	匹配空行，匹配零个或多个空白字符，这包括空格、制表符和其他类型的空白字符</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># grep -n 'root' passwd</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># grep -ni 'root' passwd</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># grep '^root' passwd</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># grep 'root$' passwd</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># grep -i root passwd						忽略大小写匹配包含root的行</span>
<span class="token comment"># grep -w ftp passwd 						精确匹配ftp单词</span>
<span class="token comment"># grep -w hello passwd 						精确匹配hello单词;自己添加包含hello的行到文件</span>
<span class="token comment"># grep -wo ftp passwd 						打印匹配到的关键字ftp</span>
<span class="token comment"># grep -n root passwd 						打印匹配到root关键字的行好</span>
<span class="token comment"># grep -ni root passwd 						忽略大小写匹配统计包含关键字root的行</span>
<span class="token comment"># grep -nic root passwd						忽略大小写匹配统计包含关键字root的行数</span>
<span class="token comment"># grep -i ^root passwd 						忽略大小写匹配以root开头的行</span>
<span class="token comment"># grep bash$ passwd 							匹配以bash结尾的行</span>
<span class="token comment"># grep -n ^$ passwd 							匹配空行并打印行号</span>
<span class="token comment"># grep ^# /etc/vsftpd/vsftpd.conf		匹配以#号开头的行</span>
<span class="token comment"># grep -v ^# /etc/vsftpd/vsftpd.conf	匹配不以#号开头的行</span>
<span class="token comment"># grep -A 5 mail passwd 				 	匹配包含mail关键字及其后5行</span>
<span class="token comment"># grep -B 5 mail passwd 				 	匹配包含mail关键字及其前5行</span>
<span class="token comment"># grep -C 5 mail passwd 					匹配包含mail关键字及其前后5行</span>
</code></pre></div><h3 id="sort"><a href="#sort" class="header-anchor">#</a> sort</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sort [选项] 文件名</span>
常用选项：
    <span class="token parameter variable">-u</span> ：去除重复行
    <span class="token parameter variable">-r</span> ：降序排列，默认是升序
    <span class="token parameter variable">-n</span> ：以数字排序，默认是按字符排序
    <span class="token parameter variable">-t</span> ：分隔符
    <span class="token parameter variable">-k</span> ：第N列
</code></pre></div><h2 id="符号"><a href="#符号" class="header-anchor">#</a> 符号</h2> <h3 id="输出重定向"><a href="#输出重定向" class="header-anchor">#</a> 输出重定向</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code>命令 &amp;&gt;<span class="token operator">/</span>dev/null
命令 &gt;<span class="token operator">/</span>dev/null 2&gt;&amp;1
</code></pre></div><h3 id="多命令"><a href="#多命令" class="header-anchor">#</a> 多命令</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token punctuation">;</span>	同时执行


&amp;&amp; 	$?=0，则命令2执行
	$?≠0，命令2不执行


<span class="token punctuation">|</span><span class="token punctuation">|</span>	$?≠0，则命令2执行
	$?=0，命令2不执行


<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># ls &amp;&amp; echo yes || echo no</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># [ -n &quot;$aa&quot; -a &quot;$aa&quot; -gt 23 ] &amp;&amp; echo yes || echo no</span>
</code></pre></div><h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token string">''</span>	单引号
单引号中的特殊符号没有特殊意义：如 $、<span class="token variable"><span class="token variable">`</span>

<span class="token string">&quot;&quot;</span>	双引号
特殊符号没有含义，$、<span class="token variable">`</span></span>、<span class="token punctuation">\</span> 例外

`<span class="token variable"><span class="token variable">`</span>	反引号
<span class="token variable">`</span></span>`<span class="token operator">==</span><span class="token operator">&gt;</span>推荐使用<span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">$(</span><span class="token punctuation">)</span> bash中会先执行其中的命令

<span class="token punctuation">$(</span><span class="token punctuation">)</span>	引用系统命令

$<span class="token punctuation">{</span><span class="token punctuation">}</span>	变量引用
变量引用更加强大，可对变量进行字符串截取

$变量名 <span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token variable">${变量名}</span>

<span class="token punctuation">[</span><span class="token punctuation">]</span>	条件判断

<span class="token punctuation">\</span>$	转移符：输出 $


<span class="token punctuation">(</span>命令<span class="token punctuation">;</span>命令<span class="token punctuation">)</span>		在子shell中执行
<span class="token punctuation">{</span> 命令<span class="token punctuation">;</span>命令<span class="token punctuation">;</span> <span class="token punctuation">}</span>	在当前shell中执行
</code></pre></div><h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code>定义、引用
$变量名 或 $<span class="token punctuation">{</span>变量名<span class="token punctuation">}</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># test=123</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># test=&quot;$test&quot;456</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># test=${test}789</span>

`` == $<span class="token punctuation">(</span>命令<span class="token punctuation">)</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># test=`date`</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># test=$(date)</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> 变量名	变量删除
</code></pre></div><div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># set [选项]</span>
选项：
	<span class="token operator">-</span>u:	如果设定此选项，调用未声明变量时会报错（默认无任何提示）
	<span class="token operator">-</span>x:	如果设定此选项，在命令执行之前，会吧命令先输出一次

<span class="token function">set</span> <span class="token operator">-</span>u 更为常用

<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># set</span>
<span class="token comment">#直接使用set命令，会查询系统中所有的变量，包含用户自定义变量和环境变量</span>

<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># env</span>
<span class="token comment"># env看不到用户自定义变量，可以看到另一部分环境变量</span>
</code></pre></div><div class="language-powershell extra-class"><pre class="language-powershell"><code>local 定义局部变量

<span class="token keyword">function</span> Hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        local text=<span class="token string">&quot;Hello World!!!&quot;</span> <span class="token comment">#局部变量</span>
        <span class="token function">echo</span> <span class="token variable">$text</span>
<span class="token punctuation">}</span>

shell脚本中定义的变量是global的<span class="token punctuation">,</span>其作用域从被定义的地方开始，到shell结束或被显示删除的地方为止。
如果同名，Shell函数定义的local变量会屏蔽脚本定义的global变量。
</code></pre></div><h3 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h3> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment">#使用export声明的变量即是环境变量</span>
方式一：
export 变量名=变量值
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># export ZS_AGE=&quot;18&quot;</span>

方式二：
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># ZS_AGE=&quot;18&quot;</span>
<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># export ZS_AGE</span>

</code></pre></div><div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># set</span>
<span class="token comment">#直接使用set命令，会查询系统中所有的变量，包含用户自定义变量和环境变量</span>

<span class="token namespace">[root@xiaoshaozi ~]</span><span class="token comment"># env</span>
<span class="token comment"># env看不到用户自定义变量，可以看到另一部分环境变量</span>
</code></pre></div><h3 id="位置参数变量"><a href="#位置参数变量" class="header-anchor">#</a> 位置参数变量</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token variable">$n</span>	第n位参数，0-9以内用 <span class="token variable">$n</span>，10以上的用 <span class="token variable">${10}</span>

<span class="token variable">$*</span>	把所有参数看成一个整体

<span class="token variable">$@</span>	代办所有参数，每个参数区分对待

<span class="token variable">$#</span>	所有参数个数
</code></pre></div><h3 id="预定义变量"><a href="#预定义变量" class="header-anchor">#</a> 预定义变量</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token variable">$?</span>	最后一次执行命令的返回状态

<span class="token variable">$$</span>	当前进程的进程号（PID）

<span class="token variable">$!</span>	后台运行的最后一个进程的进程号（PID）

其中<span class="token variable">$?</span>最为常用
</code></pre></div><h3 id="接收键盘"><a href="#接收键盘" class="header-anchor">#</a> 接收键盘</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># read [选项] [变量名]</span>
选项：
	<span class="token parameter variable">-p</span>	“提示信息”：	  在等待read输入时，输出提示信息
	<span class="token parameter variable">-t</span>	秒数：		 read命令会一直等待用户输入，使用此选项可以指定等待时间
	<span class="token parameter variable">-n</span>	字符数：	read命令只接受指定的字符数，就会执行
	-s：			  隐藏输入的数据，适用于机密信息的输入
	
变量名：
	- 变量名可以自定义，如果不指定变量名，会把输入保存入默认变量<span class="token environment constant">REPLY</span>
	- 如果只提供了一个变量名，则整个输入行赋予该变量
	- 如果提供了一个以上的变量名，则输入行分为若干字，一个接一个地赋予各个变量，
	  而命令行上如果提供了一个以上的变量名，则输入行分为若干字，一个接一个地赋予各个变量，而命令行上
</code></pre></div><h3 id="条件判断"><a href="#条件判断" class="header-anchor">#</a> 条件判断</h3> <p>文件类型</p> <div class="language-shell extra-class"><pre class="language-shell"><code>格式一：
<span class="token punctuation">[</span>root@xiaoshaozi ~<span class="token punctuation">]</span><span class="token comment"># test [选项] 文件</span>

格式二：最常用格式
<span class="token punctuation">[</span>root@xiaoshaozi ~<span class="token punctuation">]</span><span class="token comment"># [ 选项 文件 ]</span>

常用选项：
	<span class="token parameter variable">-e</span>	判断文件在不在
	<span class="token parameter variable">-f</span>	在且是普通文件
	<span class="token parameter variable">-L</span>	在且是链接文件
	<span class="token parameter variable">-d</span>	判断是否是目录
	<span class="token parameter variable">-s</span>  文件是否存在，或文件是否非空
</code></pre></div><p>文件权限</p> <div class="language-shell extra-class"><pre class="language-shell"><code>常用选项：
	<span class="token parameter variable">-r</span>	读
	<span class="token parameter variable">-w</span>	写
	<span class="token parameter variable">-x</span>	执行
</code></pre></div><p>两个整数比较</p> <div class="language-shell extra-class"><pre class="language-shell"><code>常用选项：
    num1 <span class="token parameter variable">-eq</span> num2		num1 <span class="token operator">==</span> num2
    num1 <span class="token parameter variable">-ne</span> num2		num1 <span class="token operator">!=</span> num2
    num1 <span class="token parameter variable">-gt</span> num2		num1 <span class="token operator">&gt;</span>  num2
    num1 <span class="token parameter variable">-lt</span> num2		num1 <span class="token operator">&lt;</span>  num2
    num1 <span class="token parameter variable">-ge</span> num2		num1 <span class="token operator">&gt;=</span> num2
    num1 <span class="token parameter variable">-le</span> num2		num1 <span class="token operator">&lt;=</span> num2
</code></pre></div><p>字符串比较</p> <div class="language-shell extra-class"><pre class="language-shell"><code>常用选项：
    <span class="token parameter variable">-z</span> str		isBlank?
    <span class="token parameter variable">-n</span> str		isNotBlank?
    str1 <span class="token operator">==</span> str2	<span class="token assign-left variable">str1</span><span class="token operator">==</span>str2	
    str1 <span class="token operator">!=</span>	str2	str1<span class="token operator">!=</span>str2
</code></pre></div><p>多重条件</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token parameter variable">-a</span> 	与
<span class="token parameter variable">-o</span>	或
<span class="token operator">!</span>	非

<span class="token punctuation">[</span>root@xiaoshaozi ~<span class="token punctuation">]</span><span class="token comment"># [ -n &quot;$aa&quot; -a &quot;$aa&quot; -gt 23 ] &amp;&amp; echo yes || echo no</span>
<span class="token function">yes</span>
</code></pre></div><h3 id="、-、-、-、-、-区别"><a href="#、-、-、-、-、-区别" class="header-anchor">#</a> $[ ] 、${ }、$( )、[ ]、[[ ]]、(())区别</h3> <p><code>$()</code>命令替换，等价于````` ```出现嵌套时只能使用<code>$()</code></p> <div class="language- extra-class"><pre class="language-text"><code>$( ) 
finish_time=$(date)
</code></pre></div><p><code>$[ ]</code>运算操作符，等价于<code>$(( ))</code></p> <div class="language- extra-class"><pre class="language-text"><code>xjh@ubuntu:~/iot/tmp$ echo $[3*5]
15
xjh@ubuntu:~/iot/tmp$ echo $[(3+4)*5]
35
xjh@ubuntu:~/iot/tmp$
</code></pre></div><p><code>${ }</code> 变量使用操作符，有很多丰富的功能，简单引用<code>$变量名</code></p> <p><code>[ ]</code> test测试简写形式</p> <p><code>[[ ]]</code> test升级版</p> <p><code>(())</code></p> <p>())是一个数学计算命令，用于对整数进行数学运算，比如((a=10+66)）。</p> <p>具体见博客<a href="https://blog.csdn.net/oqqHuTu12345678/article/details/125587460" target="_blank" rel="noopener noreferrer">数学计算命令（expr、(())、bc、declare等）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中关于(())的介绍。</p> <h2 id="其他-2"><a href="#其他-2" class="header-anchor">#</a> 其他</h2> <h3 id="sh"><a href="#sh" class="header-anchor">#</a> sh</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sh</span>
shell命令解释器
<span class="token function">bash</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span>

选项:
    <span class="token parameter variable">-c</span> string：命令从-c后的字符串读取。
    -i：实现脚本交互。
    -n：进行shell脚本的语法检查。
    -x：实现shell脚本逐条语句的跟踪。

常用形式：sh <span class="token parameter variable">-xc</span> <span class="token string">&quot;ls&quot;</span>
</code></pre></div><div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token namespace">[root@AY1307311912260196fcZ satools]</span><span class="token comment"># sh -x check_ssh_login.sh</span>
<span class="token operator">+</span> <span class="token keyword">DEFINE</span>=30
<span class="token operator">+</span> <span class="token function">cat</span> <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log/secure
<span class="token operator">+</span> awk <span class="token string">'/Failed/ {++ip[$(NF-3)]} END {for (i in ip) print i&quot;=&quot;ip[i]}'</span>
<span class="token operator">++</span> <span class="token function">cat</span> <span class="token operator">/</span>root/satools/black<span class="token punctuation">.</span>txt
<span class="token operator">+</span> <span class="token keyword">for</span> i in <span class="token string">'`cat /root/satools/black.txt`'</span>
<span class="token operator">++</span> <span class="token function">echo</span> 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16=1427
<span class="token operator">++</span> awk <span class="token operator">-</span>F= <span class="token string">'{print $1}'</span>
<span class="token operator">+</span> IP=121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16
<span class="token operator">++</span> <span class="token function">echo</span> 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16=1427
<span class="token operator">++</span> awk <span class="token operator">-</span>F= <span class="token string">'{print $2}'</span>
<span class="token operator">+</span> NUM=1427
<span class="token operator">+</span> <span class="token string">'['</span> 1427 <span class="token operator">-gt</span> 30 <span class="token string">']'</span>
<span class="token operator">+</span> grep 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16 <span class="token operator">/</span>etc/hosts<span class="token punctuation">.</span>deny
<span class="token operator">+</span> <span class="token string">'['</span> 1 <span class="token operator">-gt</span> 0 <span class="token string">']'</span>
<span class="token operator">+</span> <span class="token function">echo</span> sshd:121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16
<span class="token operator">+</span> <span class="token function">echo</span> vsftpd:121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>16
<span class="token operator">+</span> <span class="token keyword">for</span> i in <span class="token string">'`cat /root/satools/black.txt`'</span>
<span class="token operator">++</span> <span class="token function">echo</span> 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72=276
<span class="token operator">++</span> awk <span class="token operator">-</span>F= <span class="token string">'{print $1}'</span>
<span class="token operator">+</span> IP=121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72
<span class="token operator">++</span> awk <span class="token operator">-</span>F= <span class="token string">'{print $2}'</span>
<span class="token operator">++</span> <span class="token function">echo</span> 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72=276
<span class="token operator">+</span> NUM=276
<span class="token operator">+</span> <span class="token string">'['</span> 276 <span class="token operator">-gt</span> 30 <span class="token string">']'</span>
<span class="token operator">+</span> grep 121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72 <span class="token operator">/</span>etc/hosts<span class="token punctuation">.</span>deny
<span class="token operator">+</span> <span class="token string">'['</span> 1 <span class="token operator">-gt</span> 0 <span class="token string">']'</span>
<span class="token operator">+</span> <span class="token function">echo</span> sshd:121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72
<span class="token operator">+</span> <span class="token function">echo</span> vsftpd:121<span class="token punctuation">.</span>42<span class="token punctuation">.</span>0<span class="token punctuation">.</span>72
</code></pre></div><h2 id="变量-2"><a href="#变量-2" class="header-anchor">#</a> 变量</h2> <h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <p>在Linux中，可以使用以下方式定义和使用数组：</p> <ol><li><p>使用括号和空格将数组元素括起来，每个元素之间用空格分隔。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span> <span class="token string">&quot;banana&quot;</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>使用索引访问数组元素，索引从0开始。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span> <span class="token comment"># 输出：apple</span>
</code></pre></div></li> <li><p>使用<code>*</code>或<code>@</code>可以获取数组中的所有元素。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 输出：apple banana orange</span>
</code></pre></div></li> <li><p>使用<code>#</code>可以获取数组的长度。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 输出：3</span>
</code></pre></div></li> <li><p>使用<code>+=</code>可以向数组中添加元素。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">array</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token string">&quot;grape&quot;</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 输出：apple banana orange grape</span>
</code></pre></div></li> <li><p>使用<code>unset</code>可以删除数组中的元素。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 输出：apple orange grape</span>
</code></pre></div></li> <li><p>使用循环遍历数组中的元素。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$item</span>
<span class="token keyword">done</span>
</code></pre></div><p>循环来遍历数组，并获取每个元素的键和值</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 定义一个数组</span>
<span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span>
    <span class="token string">&quot;key1=value1&quot;</span>
    <span class="token string">&quot;key2=value2&quot;</span>
    <span class="token string">&quot;key3=value3&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment"># 循环遍历数组</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token keyword">do</span>
    <span class="token comment"># 使用IFS（内部字段分隔符）将键和值分割开</span>
    <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">'='</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-ra</span> array <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$item</span>&quot;</span>
    <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span>
    <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>&quot;</span>
    
    <span class="token comment"># 输出键和值</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Key: <span class="token variable">$key</span>, Value: <span class="token variable">$value</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>循环来遍历数组，并获取每个元素的索引和值。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 定义一个数组</span>
<span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;value1&quot;</span> <span class="token string">&quot;value2&quot;</span> <span class="token string">&quot;value3&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 获取数组长度</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>

<span class="token comment"># 循环遍历数组</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>$length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token comment"># 获取索引和值</span>
    <span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token variable">$i</span>
    <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable">${my_array<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>
    
    <span class="token comment"># 输出索引和值</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Index: <span class="token variable">$index</span>, Value: <span class="token variable">$value</span>&quot;</span>
<span class="token keyword">done</span>

在上述示例中，我们首先定义了一个数组my_array。然后，使用length变量获取数组的长度。接下来，使用for循环遍历数组，并在循环体中获取每个元素的索引和值。最后，我们输出索引和值。

请注意，上述示例中的数组索引从0开始计数。如果你希望从1开始计数，可以在输出索引时将<span class="token variable">$i</span>替换为<span class="token variable"><span class="token variable">$((</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>。
</code></pre></div></li></ol> <p>使用<code>read</code>命令结合循环结构来遍历以英文逗号分割的字符串</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 定义一个包含逗号分割值的字符串</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">&quot;apple,banana,orange,grape&quot;</span>

<span class="token comment"># 使用IFS（内部字段分隔符）将字符串按逗号分割成数组</span>
<span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">','</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-ra</span> arr <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$str</span>&quot;</span>

<span class="token comment"># 循环遍历数组中的每个值</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$item</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>去除数组中的重复元素</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 定义一个包含重复元素的数组</span>
<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span> <span class="token string">&quot;banana&quot;</span> <span class="token string">&quot;orange&quot;</span> <span class="token string">&quot;apple&quot;</span> <span class="token string">&quot;grape&quot;</span> <span class="token string">&quot;banana&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 使用sort和uniq命令去除重复元素</span>
<span class="token assign-left variable">sorted_arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;%s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span><span class="token variable">)</span></span><span class="token punctuation">)</span>

<span class="token comment"># 打印去重后的数组</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${sorted_arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 定义一个包含重复元素的数组</span>
<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span> <span class="token string">&quot;banana&quot;</span> <span class="token string">&quot;orange&quot;</span> <span class="token string">&quot;apple&quot;</span> <span class="token string">&quot;grape&quot;</span> <span class="token string">&quot;banana&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 声明关联数组</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> unique_arr

<span class="token comment"># 遍历原始数组，将每个元素作为关联数组的键，如果键不存在，则将其值设置为1，否则将其值递增1</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    unique_arr<span class="token punctuation">[</span><span class="token string">&quot;<span class="token variable">$item</span>&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">done</span>

<span class="token comment"># 打印去重后的数组（关联数组的键即为去重后的元素）</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>unique_arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
</code></pre></div><p>数组拷贝</p> <blockquote><p>在操作数组前拷贝一份数组是一种常见的做法，可以避免直接修改原始数组，从而避免循环过程中出现异常。你可以使用以下代码来复制一个数组：</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 原始数组</span>
<span class="token assign-left variable">original_array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;element1&quot;</span> <span class="token string">&quot;element2&quot;</span> <span class="token string">&quot;element3&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 复制数组</span>
<span class="token assign-left variable">copied_array</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${original_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 在复制的数组上进行操作</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">element</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${copied_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">$element</span>
<span class="token keyword">done</span>
</code></pre></div><p>关联数组允许你将键与值相关联，类似于Map数据结构。</p> <blockquote><p>要在Shell中使用关联数组，首先需要声明一个关联数组变量。以下是一个示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> map_array
</code></pre></div><p>接下来，你可以通过键来添加或修改关联数组中的值。以下是一个示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>map_array<span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;value1&quot;</span>
map_array<span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;value2&quot;</span>
</code></pre></div><p>要获取关联数组中的值，可以使用键来索引关联数组。以下是一个示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">value1</span><span class="token operator">=</span><span class="token string">&quot;${map_array[&quot;</span>key1<span class="token string">&quot;]}&quot;</span>
<span class="token assign-left variable">value2</span><span class="token operator">=</span><span class="token string">&quot;${map_array[&quot;</span>key2<span class="token string">&quot;]}&quot;</span>
</code></pre></div><p>要删除关联数组中的键值对，可以使用<code>unset</code>命令。以下是一个示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>bashunset <span class="token string">&quot;map_array[&quot;</span>key1<span class="token string">&quot;]&quot;</span>
</code></pre></div><p>要遍历关联数组中的所有键值对，可以使用循环结构。以下是一个示例：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">key</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>map_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Key: <span class="token variable">$key</span>, Value: <span class="token variable">${map_array<span class="token punctuation">[</span>$key<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>以上就是在Shell中使用关联数组作为Map数据结构的基本用法。通过使用关联数组，你可以在Shell中实现类似Map数据结构的操作。</p></blockquote> <p>shell判断变量未赋值和变量为空字符</p> <blockquote><ol><li>判断变量是否未赋值：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">${variable+x}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;变量未赋值&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;变量已赋值&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>上述代码中，<code>${variable+x}</code>表示如果变量<code>variable</code>被赋值，则返回<code>x</code>，否则返回空字符串。通过使用<code>-z</code>选项，我们可以判断空字符串是否为真，从而判断变量是否未赋值。</p> <ol start="2"><li>判断变量是否为空字符串：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$variable</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;变量为空字符串&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;变量不为空字符串&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>上述代码中，<code>-z</code>选项用于判断变量是否为空字符串。如果变量为空字符串，则返回真，否则返回假。</p></blockquote> <h4 id="数组合并"><a href="#数组合并" class="header-anchor">#</a> 数组合并</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 定义两个数组</span>
<span class="token assign-left variable">array1</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;元素1&quot;</span> <span class="token string">&quot;元素2&quot;</span> <span class="token string">&quot;元素3&quot;</span><span class="token punctuation">)</span>
<span class="token assign-left variable">array2</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;元素4&quot;</span> <span class="token string">&quot;元素5&quot;</span> <span class="token string">&quot;元素6&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 合并数组</span>
<span class="token assign-left variable">array3</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${array1<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token string">&quot;<span class="token variable">${array2<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 打印合并后的数组</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array3<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>

//元素1 元素2 元素3 元素4 元素5 元素6



<span class="token comment"># 定义两个数组</span>
<span class="token assign-left variable">array1</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;元素1&quot;</span> <span class="token string">&quot;元素2&quot;</span> <span class="token string">&quot;元素3&quot;</span><span class="token punctuation">)</span>
<span class="token assign-left variable">array2</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;元素4&quot;</span> <span class="token string">&quot;元素5&quot;</span> <span class="token string">&quot;元素6&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 合并数组并修改原始数组</span>
<span class="token assign-left variable">array1</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${array1<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token string">&quot;<span class="token variable">${array2<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 打印合并后的数组</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${array1<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>

//元素1 元素2 元素3 元素4 元素5 元素6 
</code></pre></div><h2 id="常用代码段"><a href="#常用代码段" class="header-anchor">#</a> 常用代码段</h2> <h3 id="当前脚本文件目录"><a href="#当前脚本文件目录" class="header-anchor">#</a> 当前脚本文件目录</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">cd</span> <span class="token punctuation">$(</span>dirname $0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>


<span class="token comment">#!/bin/bash</span>

<span class="token comment"># 获取脚本所在路径</span>
<span class="token assign-left variable">script_path</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span> <span class="token builtin class-name">cd</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span> <span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">${<span class="token environment constant">BASH_SOURCE</span><span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token variable">)</span></span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">pwd</span> <span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;脚本所在路径：<span class="token variable">$script_path</span>&quot;</span>
</code></pre></div><h3 id="shell调用另一个脚本中的方法"><a href="#shell调用另一个脚本中的方法" class="header-anchor">#</a> shell调用另一个脚本中的方法</h3> <ol><li><strong>直接调用</strong>:</li></ol> <p>如果你知道另一个脚本中的函数名称，你可以直接在当前的脚本中调用它。</p> <p>例如，假设你有两个脚本：<code>script1.sh</code> 和 <code>script2.sh</code>。在 <code>script2.sh</code> 中，有一个名为 <code>myFunction</code> 的函数。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># script2.sh</span>
<span class="token function-name function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello from myFunction in script2.sh&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你可以在 <code>script1.sh</code> 中直接调用这个函数：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># script1.sh</span>
<span class="token builtin class-name">source</span> script2.sh  <span class="token comment"># 导入script2.sh中的函数和变量等</span>

myFunction  <span class="token comment"># 调用script2.sh中的函数</span>
</code></pre></div><ol><li><strong>使用源命令 (source)</strong>:</li></ol> <p><code>source</code> 命令用于读取并执行指定脚本中的命令。这允许你在当前的shell环境中执行脚本，这意味着脚本中定义的任何函数或变量都将在当前环境中可用。</p> <p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> /path/to/script2.sh  <span class="token comment"># 使用source命令导入script2.sh中的函数和变量等</span>
</code></pre></div><ol><li><strong>使用点号 (.)</strong>:</li></ol> <p>点号也可以用来执行脚本，与 <code>source</code> 命令类似，但它不会创建新的子shell。这意味着脚本中定义的任何函数或变量都将在当前环境中可用。</p> <p>例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">.</span> /path/to/script2.sh  <span class="token comment"># 使用点号执行script2.sh中的函数和变量等</span>
</code></pre></div><ol><li><strong>使用bash的 <code>-c</code> 选项</strong>:</li></ol> <p>如果你只想执行脚本中的一行命令，可以使用 <code>-c</code> 选项：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;source /path/to/script2.sh&quot;</span>  <span class="token comment"># 导入script2.sh中的函数和变量等，但不会在当前环境中使用它们，因为它们是在新的子shell中定义的。</span>
</code></pre></div><ol><li><strong>注意点</strong>:</li></ol> <ul><li>当使用 <code>source</code> 或点号时，脚本中的任何变量或函数都将在当前shell环境中定义。如果你不想改变当前的环境，使用子shell可能是更好的选择。你可以使用 <code>bash -c &quot;command&quot;</code> 的形式来在子shell中执行命令。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2024年2月23日星期五凌晨12点17分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zs-use/linux/shell编程/工具--cut.html" class="prev">
        工具--cut
      </a></span> <span class="next"><a href="/zs-use/linux/shell编程/实战脚本示例01.html">
        实战脚本示例01
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.23d97264.js" defer></script><script src="/assets/js/2.19cde076.js" defer></script><script src="/assets/js/1.6a212f00.js" defer></script><script src="/assets/js/210.803d1b1c.js" defer></script><script src="/assets/js/95.7bf6c681.js" defer></script>
  </body>
</html>
