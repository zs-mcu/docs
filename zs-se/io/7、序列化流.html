<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>序列化流 | 小邵子</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script charset="utf-8" src="/js/custom.js"></script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b2140ca1d9ce57e6aac1a7709f5f5fe7";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="小邵子的个人笔记">
    <meta name="author" content="小邵子">
    <meta name="keywords" content="张邵,小邵子的 vuepress 个人博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9632ee24.css" as="style"><link rel="preload" href="/assets/js/app.36867afe.js" as="script"><link rel="preload" href="/assets/js/2.025e3253.js" as="script"><link rel="preload" href="/assets/js/63.c23be7e6.js" as="script"><link rel="preload" href="/assets/js/101.4659beed.js" as="script"><link rel="prefetch" href="/assets/js/1.a9e65394.js"><link rel="prefetch" href="/assets/js/10.14e71e12.js"><link rel="prefetch" href="/assets/js/100.fa2184c5.js"><link rel="prefetch" href="/assets/js/102.4a97fde4.js"><link rel="prefetch" href="/assets/js/103.91cb8db0.js"><link rel="prefetch" href="/assets/js/104.d69b7085.js"><link rel="prefetch" href="/assets/js/105.23722206.js"><link rel="prefetch" href="/assets/js/106.bf2286db.js"><link rel="prefetch" href="/assets/js/107.40dac03d.js"><link rel="prefetch" href="/assets/js/108.ccf6c750.js"><link rel="prefetch" href="/assets/js/109.66c035b5.js"><link rel="prefetch" href="/assets/js/11.6fa13a16.js"><link rel="prefetch" href="/assets/js/110.7747c85a.js"><link rel="prefetch" href="/assets/js/111.18f91f03.js"><link rel="prefetch" href="/assets/js/112.9e03f405.js"><link rel="prefetch" href="/assets/js/113.3d2ea823.js"><link rel="prefetch" href="/assets/js/114.5ed178fb.js"><link rel="prefetch" href="/assets/js/115.f70c1059.js"><link rel="prefetch" href="/assets/js/116.5fc7bcec.js"><link rel="prefetch" href="/assets/js/117.200f6321.js"><link rel="prefetch" href="/assets/js/118.bb8ff2bd.js"><link rel="prefetch" href="/assets/js/119.5c13e734.js"><link rel="prefetch" href="/assets/js/12.6e56e2a3.js"><link rel="prefetch" href="/assets/js/120.8d99a983.js"><link rel="prefetch" href="/assets/js/121.1a0bbf88.js"><link rel="prefetch" href="/assets/js/122.0678cb30.js"><link rel="prefetch" href="/assets/js/123.2db8e87c.js"><link rel="prefetch" href="/assets/js/124.51dde753.js"><link rel="prefetch" href="/assets/js/125.99e84d94.js"><link rel="prefetch" href="/assets/js/126.bdc23eed.js"><link rel="prefetch" href="/assets/js/127.c041c4e0.js"><link rel="prefetch" href="/assets/js/128.a1d3f488.js"><link rel="prefetch" href="/assets/js/129.b96df2ef.js"><link rel="prefetch" href="/assets/js/13.f76ab760.js"><link rel="prefetch" href="/assets/js/130.7688f607.js"><link rel="prefetch" href="/assets/js/131.589a6f4d.js"><link rel="prefetch" href="/assets/js/132.1114ba55.js"><link rel="prefetch" href="/assets/js/133.82c9843d.js"><link rel="prefetch" href="/assets/js/134.5bf2e5ff.js"><link rel="prefetch" href="/assets/js/135.6a89a32a.js"><link rel="prefetch" href="/assets/js/136.2123f358.js"><link rel="prefetch" href="/assets/js/137.eb16af46.js"><link rel="prefetch" href="/assets/js/138.107cf373.js"><link rel="prefetch" href="/assets/js/139.7aae3d2f.js"><link rel="prefetch" href="/assets/js/14.654ddafc.js"><link rel="prefetch" href="/assets/js/140.0bd5f933.js"><link rel="prefetch" href="/assets/js/141.ad2e56b8.js"><link rel="prefetch" href="/assets/js/142.cff79ef8.js"><link rel="prefetch" href="/assets/js/143.1f4e74e5.js"><link rel="prefetch" href="/assets/js/144.8487f5f5.js"><link rel="prefetch" href="/assets/js/145.fdff005e.js"><link rel="prefetch" href="/assets/js/146.320d335f.js"><link rel="prefetch" href="/assets/js/147.75c8066c.js"><link rel="prefetch" href="/assets/js/148.f3dcd9af.js"><link rel="prefetch" href="/assets/js/149.000a99b0.js"><link rel="prefetch" href="/assets/js/15.0723e404.js"><link rel="prefetch" href="/assets/js/150.45f6b391.js"><link rel="prefetch" href="/assets/js/151.f1b5e153.js"><link rel="prefetch" href="/assets/js/152.8b28d66a.js"><link rel="prefetch" href="/assets/js/153.5c2d6768.js"><link rel="prefetch" href="/assets/js/154.7866e854.js"><link rel="prefetch" href="/assets/js/155.ebb9d891.js"><link rel="prefetch" href="/assets/js/156.d5fd990d.js"><link rel="prefetch" href="/assets/js/157.346a918a.js"><link rel="prefetch" href="/assets/js/158.16c74703.js"><link rel="prefetch" href="/assets/js/159.066e2a9c.js"><link rel="prefetch" href="/assets/js/16.cf71f95a.js"><link rel="prefetch" href="/assets/js/160.cfd679fd.js"><link rel="prefetch" href="/assets/js/161.d56e3cd9.js"><link rel="prefetch" href="/assets/js/162.538f881c.js"><link rel="prefetch" href="/assets/js/163.3817b3d3.js"><link rel="prefetch" href="/assets/js/164.635325d9.js"><link rel="prefetch" href="/assets/js/165.f1e0396a.js"><link rel="prefetch" href="/assets/js/166.146cb3c1.js"><link rel="prefetch" href="/assets/js/167.e34c8731.js"><link rel="prefetch" href="/assets/js/168.6070bbec.js"><link rel="prefetch" href="/assets/js/169.ad90bf22.js"><link rel="prefetch" href="/assets/js/17.930feaaf.js"><link rel="prefetch" href="/assets/js/170.924c9faa.js"><link rel="prefetch" href="/assets/js/171.7385563a.js"><link rel="prefetch" href="/assets/js/172.4d2536d2.js"><link rel="prefetch" href="/assets/js/173.5d10e271.js"><link rel="prefetch" href="/assets/js/174.9382fcfa.js"><link rel="prefetch" href="/assets/js/175.3c9e3449.js"><link rel="prefetch" href="/assets/js/176.76ed2b7a.js"><link rel="prefetch" href="/assets/js/177.40c434b7.js"><link rel="prefetch" href="/assets/js/178.afc49d41.js"><link rel="prefetch" href="/assets/js/179.7ae7121a.js"><link rel="prefetch" href="/assets/js/18.a29371a6.js"><link rel="prefetch" href="/assets/js/180.c588773a.js"><link rel="prefetch" href="/assets/js/181.11cc5028.js"><link rel="prefetch" href="/assets/js/182.cb754ab8.js"><link rel="prefetch" href="/assets/js/183.af9848d6.js"><link rel="prefetch" href="/assets/js/184.5c5626af.js"><link rel="prefetch" href="/assets/js/185.a4b08238.js"><link rel="prefetch" href="/assets/js/186.761895fc.js"><link rel="prefetch" href="/assets/js/187.cf9dc045.js"><link rel="prefetch" href="/assets/js/188.1e400b2a.js"><link rel="prefetch" href="/assets/js/189.ecfd13f3.js"><link rel="prefetch" href="/assets/js/19.b6ceeb5f.js"><link rel="prefetch" href="/assets/js/190.0dc72914.js"><link rel="prefetch" href="/assets/js/191.a5ab2106.js"><link rel="prefetch" href="/assets/js/192.6d98a58c.js"><link rel="prefetch" href="/assets/js/193.9924bf05.js"><link rel="prefetch" href="/assets/js/194.e9297fbb.js"><link rel="prefetch" href="/assets/js/195.32a039ac.js"><link rel="prefetch" href="/assets/js/196.b3280823.js"><link rel="prefetch" href="/assets/js/197.65a8205e.js"><link rel="prefetch" href="/assets/js/198.2fba5158.js"><link rel="prefetch" href="/assets/js/199.3969ca5f.js"><link rel="prefetch" href="/assets/js/20.7d609099.js"><link rel="prefetch" href="/assets/js/200.5dfd5046.js"><link rel="prefetch" href="/assets/js/201.c098502f.js"><link rel="prefetch" href="/assets/js/202.4227f226.js"><link rel="prefetch" href="/assets/js/203.3f9ae20c.js"><link rel="prefetch" href="/assets/js/204.0da00d55.js"><link rel="prefetch" href="/assets/js/205.b7f979e4.js"><link rel="prefetch" href="/assets/js/206.a307181a.js"><link rel="prefetch" href="/assets/js/207.e10ea89f.js"><link rel="prefetch" href="/assets/js/208.796552ff.js"><link rel="prefetch" href="/assets/js/209.925b96fe.js"><link rel="prefetch" href="/assets/js/21.b650447e.js"><link rel="prefetch" href="/assets/js/210.2e4fa972.js"><link rel="prefetch" href="/assets/js/211.e08dfd45.js"><link rel="prefetch" href="/assets/js/212.bf823342.js"><link rel="prefetch" href="/assets/js/213.5f85e655.js"><link rel="prefetch" href="/assets/js/214.e944502f.js"><link rel="prefetch" href="/assets/js/215.76bc5f63.js"><link rel="prefetch" href="/assets/js/216.0c40b9e2.js"><link rel="prefetch" href="/assets/js/217.bda326ce.js"><link rel="prefetch" href="/assets/js/218.3ad36a98.js"><link rel="prefetch" href="/assets/js/219.cf9fdd9b.js"><link rel="prefetch" href="/assets/js/22.b640d23d.js"><link rel="prefetch" href="/assets/js/220.70c00108.js"><link rel="prefetch" href="/assets/js/221.a6c6c34c.js"><link rel="prefetch" href="/assets/js/222.cfddc965.js"><link rel="prefetch" href="/assets/js/223.b4fd2ae0.js"><link rel="prefetch" href="/assets/js/224.1f547de3.js"><link rel="prefetch" href="/assets/js/225.c12945f1.js"><link rel="prefetch" href="/assets/js/226.fea8d6b2.js"><link rel="prefetch" href="/assets/js/227.91d71508.js"><link rel="prefetch" href="/assets/js/228.b6b22f94.js"><link rel="prefetch" href="/assets/js/229.c6778f8c.js"><link rel="prefetch" href="/assets/js/23.843b5a29.js"><link rel="prefetch" href="/assets/js/230.11b46a8c.js"><link rel="prefetch" href="/assets/js/231.660aec91.js"><link rel="prefetch" href="/assets/js/232.789aefcf.js"><link rel="prefetch" href="/assets/js/233.b8831aca.js"><link rel="prefetch" href="/assets/js/234.2af75a53.js"><link rel="prefetch" href="/assets/js/235.a76a1323.js"><link rel="prefetch" href="/assets/js/236.ba4ed511.js"><link rel="prefetch" href="/assets/js/237.74acd9cb.js"><link rel="prefetch" href="/assets/js/238.b17eb5a8.js"><link rel="prefetch" href="/assets/js/239.cac22244.js"><link rel="prefetch" href="/assets/js/24.a8452bca.js"><link rel="prefetch" href="/assets/js/240.83336b74.js"><link rel="prefetch" href="/assets/js/241.7cdfd669.js"><link rel="prefetch" href="/assets/js/242.a7f2695c.js"><link rel="prefetch" href="/assets/js/243.42d2f953.js"><link rel="prefetch" href="/assets/js/244.f4067c38.js"><link rel="prefetch" href="/assets/js/245.65b56571.js"><link rel="prefetch" href="/assets/js/246.ac1686d1.js"><link rel="prefetch" href="/assets/js/247.bc948ace.js"><link rel="prefetch" href="/assets/js/248.8b469f12.js"><link rel="prefetch" href="/assets/js/249.869ad84a.js"><link rel="prefetch" href="/assets/js/25.8abfcc03.js"><link rel="prefetch" href="/assets/js/250.6c34bad6.js"><link rel="prefetch" href="/assets/js/251.3433742a.js"><link rel="prefetch" href="/assets/js/252.68e045af.js"><link rel="prefetch" href="/assets/js/253.d34ab72d.js"><link rel="prefetch" href="/assets/js/254.68c37ef8.js"><link rel="prefetch" href="/assets/js/255.9eedea9f.js"><link rel="prefetch" href="/assets/js/256.98bf789e.js"><link rel="prefetch" href="/assets/js/257.1d64bf96.js"><link rel="prefetch" href="/assets/js/258.0b2173c4.js"><link rel="prefetch" href="/assets/js/259.9f242a0d.js"><link rel="prefetch" href="/assets/js/26.ba449492.js"><link rel="prefetch" href="/assets/js/260.4d31a54d.js"><link rel="prefetch" href="/assets/js/261.61519a9f.js"><link rel="prefetch" href="/assets/js/262.0b89e7f7.js"><link rel="prefetch" href="/assets/js/263.b360e3fa.js"><link rel="prefetch" href="/assets/js/27.40fb2213.js"><link rel="prefetch" href="/assets/js/28.46cc0ac7.js"><link rel="prefetch" href="/assets/js/29.4c483cf8.js"><link rel="prefetch" href="/assets/js/3.2bcd8c71.js"><link rel="prefetch" href="/assets/js/30.687f3157.js"><link rel="prefetch" href="/assets/js/31.880f9175.js"><link rel="prefetch" href="/assets/js/32.70c2dc2f.js"><link rel="prefetch" href="/assets/js/33.c52f57db.js"><link rel="prefetch" href="/assets/js/34.e715980e.js"><link rel="prefetch" href="/assets/js/35.4bf01604.js"><link rel="prefetch" href="/assets/js/36.77ac6428.js"><link rel="prefetch" href="/assets/js/37.2dae0272.js"><link rel="prefetch" href="/assets/js/38.821ae9ac.js"><link rel="prefetch" href="/assets/js/39.43c0fdb0.js"><link rel="prefetch" href="/assets/js/4.80700c76.js"><link rel="prefetch" href="/assets/js/40.2a96e522.js"><link rel="prefetch" href="/assets/js/41.0cca234e.js"><link rel="prefetch" href="/assets/js/42.35844496.js"><link rel="prefetch" href="/assets/js/43.29267c35.js"><link rel="prefetch" href="/assets/js/44.4ed87242.js"><link rel="prefetch" href="/assets/js/45.c3f29514.js"><link rel="prefetch" href="/assets/js/46.9293738e.js"><link rel="prefetch" href="/assets/js/47.f3f8da82.js"><link rel="prefetch" href="/assets/js/48.aac9a280.js"><link rel="prefetch" href="/assets/js/49.3ca4f877.js"><link rel="prefetch" href="/assets/js/5.87b065ec.js"><link rel="prefetch" href="/assets/js/50.5cfc9a8e.js"><link rel="prefetch" href="/assets/js/51.6b618763.js"><link rel="prefetch" href="/assets/js/52.1e867123.js"><link rel="prefetch" href="/assets/js/53.ff734b76.js"><link rel="prefetch" href="/assets/js/54.b2e51612.js"><link rel="prefetch" href="/assets/js/55.4121495b.js"><link rel="prefetch" href="/assets/js/56.5b0b5fad.js"><link rel="prefetch" href="/assets/js/57.c9ad461b.js"><link rel="prefetch" href="/assets/js/58.154bf522.js"><link rel="prefetch" href="/assets/js/59.7c3a132c.js"><link rel="prefetch" href="/assets/js/6.61f41aea.js"><link rel="prefetch" href="/assets/js/60.f9fa7fbb.js"><link rel="prefetch" href="/assets/js/61.2df4a89b.js"><link rel="prefetch" href="/assets/js/62.0d756f6f.js"><link rel="prefetch" href="/assets/js/64.a12bfa73.js"><link rel="prefetch" href="/assets/js/65.bbe9b653.js"><link rel="prefetch" href="/assets/js/66.db15b24e.js"><link rel="prefetch" href="/assets/js/67.c52c679d.js"><link rel="prefetch" href="/assets/js/68.02194055.js"><link rel="prefetch" href="/assets/js/69.3f5c4b77.js"><link rel="prefetch" href="/assets/js/7.3b96c0f6.js"><link rel="prefetch" href="/assets/js/70.367192c9.js"><link rel="prefetch" href="/assets/js/71.d5b9a67e.js"><link rel="prefetch" href="/assets/js/72.faae87ba.js"><link rel="prefetch" href="/assets/js/73.2d7dcf05.js"><link rel="prefetch" href="/assets/js/74.bec8ba0e.js"><link rel="prefetch" href="/assets/js/75.497123f6.js"><link rel="prefetch" href="/assets/js/76.9c96c313.js"><link rel="prefetch" href="/assets/js/77.4ee86079.js"><link rel="prefetch" href="/assets/js/78.3bdcb619.js"><link rel="prefetch" href="/assets/js/79.115a645d.js"><link rel="prefetch" href="/assets/js/80.72125d38.js"><link rel="prefetch" href="/assets/js/81.7e107af7.js"><link rel="prefetch" href="/assets/js/82.da726dbb.js"><link rel="prefetch" href="/assets/js/83.e8c61745.js"><link rel="prefetch" href="/assets/js/84.355d34c5.js"><link rel="prefetch" href="/assets/js/85.588ed61f.js"><link rel="prefetch" href="/assets/js/86.17ec09c7.js"><link rel="prefetch" href="/assets/js/87.7318f3d9.js"><link rel="prefetch" href="/assets/js/88.4545c0fc.js"><link rel="prefetch" href="/assets/js/89.237685f0.js"><link rel="prefetch" href="/assets/js/90.1f4d672e.js"><link rel="prefetch" href="/assets/js/91.b5740c30.js"><link rel="prefetch" href="/assets/js/92.ebd4646c.js"><link rel="prefetch" href="/assets/js/93.466a0eb0.js"><link rel="prefetch" href="/assets/js/94.2231447b.js"><link rel="prefetch" href="/assets/js/95.6ff2f893.js"><link rel="prefetch" href="/assets/js/96.cefaeb37.js"><link rel="prefetch" href="/assets/js/97.645796ea.js"><link rel="prefetch" href="/assets/js/98.42e3fd6a.js"><link rel="prefetch" href="/assets/js/99.11eb6eb6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6c03ae73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9632ee24.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><a href="/" class="home-link router-link-active"><!----> <span class="site-name">小邵子</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markmap/" class="nav-link">
  markmap
</a></li><li class="dropdown-item"><!----> <a href="/小工具/html2md/" class="nav-link">
  html2md
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/小工具/codeAi/" class="nav-link">
  codeAi
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小需求" class="dropdown-title"><span class="title">小需求</span> <span class="arrow down"></span></button> <button type="button" aria-label="小需求" class="mobile-dropdown-title"><span class="title">小需求</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小需求/js/js-分组.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/小需求/html/video-播放视频.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/小需求/iframe/iframe-自适应高度.html" class="nav-link">
  iframe
</a></li><li class="dropdown-item"><!----> <a href="/小需求/css/撑开高度.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/js/JSON-stringify函数.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/web/iframe/iframe-简单使用.html" class="nav-link">
  iframe
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小框架" class="dropdown-title"><span class="title">小框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="小框架" class="mobile-dropdown-title"><span class="title">小框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小框架/kkfileview/" class="nav-link">
  kkFileView
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link router-link-active">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="linux" class="dropdown-title"><span class="title">linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="linux" class="mobile-dropdown-title"><span class="title">linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/中间件/docker/" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小工具" class="dropdown-title"><span class="title">小工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="小工具" class="mobile-dropdown-title"><span class="title">小工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小工具/axure/" class="nav-link">
  axure
</a></li><li class="dropdown-item"><!----> <a href="/小工具/cygwin/" class="nav-link">
  cygwin
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markmap/" class="nav-link">
  markmap
</a></li><li class="dropdown-item"><!----> <a href="/小工具/html2md/" class="nav-link">
  html2md
</a></li><li class="dropdown-item"><!----> <a href="/小工具/markdown/" class="nav-link">
  markdown
</a></li><li class="dropdown-item"><!----> <a href="/小工具/codeAi/" class="nav-link">
  codeAi
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小需求" class="dropdown-title"><span class="title">小需求</span> <span class="arrow down"></span></button> <button type="button" aria-label="小需求" class="mobile-dropdown-title"><span class="title">小需求</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小需求/js/js-分组.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/小需求/html/video-播放视频.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/小需求/iframe/iframe-自适应高度.html" class="nav-link">
  iframe
</a></li><li class="dropdown-item"><!----> <a href="/小需求/css/撑开高度.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/js/JSON-stringify函数.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/web/iframe/iframe-简单使用.html" class="nav-link">
  iframe
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小框架" class="dropdown-title"><span class="title">小框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="小框架" class="mobile-dropdown-title"><span class="title">小框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/小框架/kkfileview/" class="nav-link">
  kkFileView
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-se" class="dropdown-title"><span class="title">zs-se</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-se" class="mobile-dropdown-title"><span class="title">zs-se</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-se/基础/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/设计模式/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/zs-se/io/" class="nav-link router-link-active">
  io
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-ee-框架" class="dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-ee-框架" class="mobile-dropdown-title"><span class="title">zs-ee-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-ee-框架/mybatis-plus/" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/spring/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/zs-ee-框架/cloud-gateway/" class="nav-link">
  cloud-gateway
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-小结" class="dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-小结" class="mobile-dropdown-title"><span class="title">zs-tool-小结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-小结/面经手册/面试--0.开篇.html" class="nav-link">
  面经手册
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/网址收藏/实用网站.html" class="nav-link">
  网址收藏
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-小结/文件/" class="nav-link">
  文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-tool-框架" class="dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-tool-框架" class="mobile-dropdown-title"><span class="title">zs-tool-框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-tool-框架/vuepress/" class="nav-link">
  Vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/java报表/" class="nav-link">
  java报表
</a></li><li class="dropdown-item"><!----> <a href="/zs-tool-框架/消息推送/消息推送技术方案.html" class="nav-link">
  消息推送
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-use" class="dropdown-title"><span class="title">zs-use</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-use" class="mobile-dropdown-title"><span class="title">zs-use</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zs-use/linux/基本使用/" class="nav-link">
  基本使用
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/常见问题/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/shell编程/" class="nav-link">
  shell编程
</a></li><li class="dropdown-subitem"><a href="/zs-use/linux/虚拟化/" class="nav-link">
  虚拟化
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/zs-use/idea/" class="nav-link">
  IDEA
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/env/" class="nav-link">
  env
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/maven/自定义archetype-01.html" class="nav-link">
  maven
</a></li><li class="dropdown-item"><!----> <a href="/zs-use/下载视频/下载器.html" class="nav-link">
  下载视频
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-web" class="dropdown-title"><span class="title">zs-web</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-web" class="mobile-dropdown-title"><span class="title">zs-web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-web/tool-小结/" class="nav-link">
  tool-小结
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/project/html/" class="nav-link">
  project
</a></li><li class="dropdown-item"><!----> <a href="/zs-web/node/nvm--安装.html" class="nav-link">
  node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="zs-project" class="dropdown-title"><span class="title">zs-project</span> <span class="arrow down"></span></button> <button type="button" aria-label="zs-project" class="mobile-dropdown-title"><span class="title">zs-project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zs-project/mallchat/" class="nav-link">
  mallchat
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Io</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zs-se/io/" aria-current="page" class="sidebar-link">基础的io流使用</a></li><li><a href="/zs-se/io/1、IO流概述.html" class="sidebar-link">IO流概述</a></li><li><a href="/zs-se/io/2、字节流.html" class="sidebar-link">字节流</a></li><li><a href="/zs-se/io/3、字符流.html" class="sidebar-link">字符流</a></li><li><a href="/zs-se/io/4、IO异常处理.html" class="sidebar-link">IO异常的处理</a></li><li><a href="/zs-se/io/5、缓冲流.html" class="sidebar-link">缓冲流</a></li><li><a href="/zs-se/io/6、转换流.html" class="sidebar-link">转换流</a></li><li><a href="/zs-se/io/7、序列化流.html" class="active sidebar-link">序列化流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zs-se/io/7、序列化流.html#_3-1-概述" class="sidebar-link">3.1 概述</a></li><li class="sidebar-sub-header"><a href="/zs-se/io/7、序列化流.html#_3-2-objectoutputstream类" class="sidebar-link">3.2 ObjectOutputStream类</a></li><li class="sidebar-sub-header"><a href="/zs-se/io/7、序列化流.html#_3-3-objectinputstream类" class="sidebar-link">3.3 ObjectInputStream类</a></li><li class="sidebar-sub-header"><a href="/zs-se/io/7、序列化流.html#_3-4-练习-序列化集合" class="sidebar-link">3.4 练习：序列化集合</a></li></ul></li><li><a href="/zs-se/io/8、打印流.html" class="sidebar-link">打印流</a></li><li><a href="/zs-se/io/9、压缩和解压缩流.html" class="sidebar-link">压缩和解压缩流</a></li><li><a href="/zs-se/io/工具包.html" class="sidebar-link">工具包</a></li><li><a href="/zs-se/io/综合练习.html" class="sidebar-link">综合练习</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>经典白学</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-序列化"><a href="#_3-序列化" class="header-anchor">#</a> 3. 序列化</h1> <p><img src="/assets/img/image-20231211142023103.95358137.png" alt="image-20231211142023103"></p> <p><img src="/assets/img/image-20231211142234122.6ee4fe0d.png" alt="image-20231211142234122"></p> <p><img src="/assets/img/image-20231211143136944.1cd9099a.png" alt="image-20231211143136944"></p> <p><img src="/assets/img/image-20231211143157188.26852aa8.png" alt="image-20231211143157188"></p> <p><img src="/assets/img/image-20231211143523289.f63ada37.png" alt="image-20231211143523289"></p> <h2 id="_3-1-概述"><a href="#_3-1-概述" class="header-anchor">#</a> 3.1 概述</h2> <p>Java 提供了一种对象<strong>序列化</strong>的机制。用一个字节序列可以表示一个对象，该字节序列包含该<code>对象的数据</code>、<code>对象的类型</code>和<code>对象中存储的属性</code>等信息。字节序列写出到文件之后，相当于文件中<strong>持久保存</strong>了一个对象的信息。</p> <p>反之，该字节序列还可以从文件中读取回来，重构对象，对它进行<strong>反序列化</strong>。<code>对象的数据</code>、<code>对象的类型</code>和<code>对象中存储的数据</code>信息，都可以用来在内存中创建对象。看图理解序列化： <img src="img/3_xuliehua.jpg" alt=""></p> <h2 id="_3-2-objectoutputstream类"><a href="#_3-2-objectoutputstream类" class="header-anchor">#</a> 3.2 ObjectOutputStream类</h2> <p><code>java.io.ObjectOutputStream</code> 类，将Java对象的原始数据类型写出到文件,实现对象的持久存储。</p> <h3 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h3> <ul><li><code>public ObjectOutputStream(OutputStream out)</code>： 创建一个指定OutputStream的ObjectOutputStream。</li></ul> <p>构造举例，代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> fileOut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;employee.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span>fileOut<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="序列化操作"><a href="#序列化操作" class="header-anchor">#</a> 序列化操作</h3> <ol><li>一个对象要想序列化，必须满足两个条件:</li></ol> <ul><li>该类必须实现<code>java.io.Serializable</code> 接口，<code>Serializable</code> 是一个标记接口，不实现此接口的类将不会使任何状态序列化或反序列化，会抛出<code>NotSerializableException</code> 。</li> <li>该类的所有属性必须是可序列化的。如果有一个属性不需要可序列化的，则该属性必须注明是瞬态的，使用<code>transient</code> 关键字修饰。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">transient</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span> <span class="token comment">// transient瞬态修饰成员,不会被序列化</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addressCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Address  check : &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; -- &quot;</span> <span class="token operator">+</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.写出对象方法</p> <ul><li><code>public final void writeObject (Object obj)</code> : 将指定的对象写出。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerializeDemo</span><span class="token punctuation">{</span>
   	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>   <span class="token punctuation">{</span>
    	<span class="token class-name">Employee</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	e<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">;</span>
    	e<span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token string">&quot;beiqinglu&quot;</span><span class="token punctuation">;</span>
    	e<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> 
    	<span class="token keyword">try</span> <span class="token punctuation">{</span>
      		<span class="token comment">// 创建序列化流对象</span>
          <span class="token class-name">ObjectOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;employee.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// 写出对象</span>
        	out<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token comment">// 释放资源</span>
        	out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Serialized data is saved&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 姓名，地址被序列化，年龄没有被序列化。</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> i<span class="token punctuation">)</span>   <span class="token punctuation">{</span>
            i<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
   	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
输出结果：
<span class="token class-name">Serialized</span> data is saved
</code></pre></div><h2 id="_3-3-objectinputstream类"><a href="#_3-3-objectinputstream类" class="header-anchor">#</a> 3.3 ObjectInputStream类</h2> <p>ObjectInputStream反序列化流，将之前使用ObjectOutputStream序列化的原始数据恢复为对象。</p> <h3 id="构造方法-2"><a href="#构造方法-2" class="header-anchor">#</a> 构造方法</h3> <ul><li><code>public ObjectInputStream(InputStream in)</code>： 创建一个指定InputStream的ObjectInputStream。</li></ul> <h3 id="反序列化操作1"><a href="#反序列化操作1" class="header-anchor">#</a> 反序列化操作1</h3> <p>如果能找到一个对象的class文件，我们可以进行反序列化操作，调用<code>ObjectInputStream</code>读取对象的方法：</p> <ul><li><code>public final Object readObject ()</code> : 读取一个对象。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeserializeDemo</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>   <span class="token punctuation">{</span>
        <span class="token class-name">Employee</span> e <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>		
             <span class="token comment">// 创建反序列化流</span>
             <span class="token class-name">FileInputStream</span> fileIn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;employee.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token class-name">ObjectInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span>fileIn<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token comment">// 读取一个对象</span>
             e <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token punctuation">)</span> in<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token comment">// 释放资源</span>
             in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             fileIn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token comment">// 捕获其他异常</span>
             i<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> c<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        	<span class="token comment">// 捕获类找不到异常</span>
             <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Employee class not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             c<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 无异常,直接打印输出</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Name: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// zhangsan</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Address: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// beiqinglu</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;age: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>对于JVM可以反序列化对象，它必须是能够找到class文件的类。如果找不到该类的class文件，则抛出一个 <code>ClassNotFoundException</code> 异常。</strong></p> <h3 id="反序列化操作2"><a href="#反序列化操作2" class="header-anchor">#</a> <strong>反序列化操作2</strong></h3> <p>**另外，当JVM反序列化对象时，能找到class文件，但是class文件在序列化对象之后发生了修改，那么反序列化操作也会失败，抛出一个<code>InvalidClassException</code>异常。**发生这个异常的原因如下：</p> <ul><li>该类的序列版本号与从流中读取的类描述符的版本号不匹配</li> <li>该类包含未知数据类型</li> <li>该类没有可访问的无参数构造方法</li></ul> <p><code>Serializable</code> 接口给需要序列化的类，提供了一个序列版本号。<code>serialVersionUID</code> 该版本号的目的在于验证序列化的对象和对应类是否版本匹配。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">{</span>
     <span class="token comment">// 加入序列版本号</span>
     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
     <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
     <span class="token keyword">public</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
     <span class="token comment">// 添加新的属性 ,重新编译, 可以反序列化,该属性赋为默认值.</span>
     <span class="token keyword">public</span> <span class="token keyword">int</span> eid<span class="token punctuation">;</span> 

     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addressCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Address  check : &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; -- &quot;</span> <span class="token operator">+</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-4-练习-序列化集合"><a href="#_3-4-练习-序列化集合" class="header-anchor">#</a> 3.4 练习：序列化集合</h2> <ol><li>将存有多个自定义对象的集合序列化操作，保存到<code>list.txt</code>文件中。</li> <li>反序列化<code>list.txt</code> ，并遍历集合，打印对象信息。</li></ol> <h3 id="案例分析"><a href="#案例分析" class="header-anchor">#</a> 案例分析</h3> <ol><li>把若干学生对象 ，保存到集合中。</li> <li>把集合序列化。</li> <li>反序列化读取时，只需要读取一次，转换为集合类型。</li> <li>遍历集合，可以打印所有的学生信息</li></ol> <h3 id="案例实现"><a href="#案例实现" class="header-anchor">#</a> 案例实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerTest</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token comment">// 创建 学生对象</span>
		<span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;老王&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;laow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Student</span> student2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;老张&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;laoz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Student</span> student3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;老李&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;laol&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> arrayList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
		arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		arrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student3<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 序列化操作</span>
		<span class="token comment">// serializ(arrayList);</span>
		
		<span class="token comment">// 反序列化  </span>
		<span class="token class-name">ObjectInputStream</span> ois  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;list.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 读取对象,强转为ArrayList类型</span>
		<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> list  <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
      	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
          	<span class="token class-name">Student</span> s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;--&quot;</span><span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">getPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">serializ</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> arrayList<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token comment">// 创建 序列化流 </span>
		<span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;list.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 写出对象</span>
		oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 释放资源</span>
		oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2023年12月11日星期一晚上7点36分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zs-se/io/6、转换流.html" class="prev">
        转换流
      </a></span> <span class="next"><a href="/zs-se/io/8、打印流.html">
        打印流
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.36867afe.js" defer></script><script src="/assets/js/2.025e3253.js" defer></script><script src="/assets/js/63.c23be7e6.js" defer></script><script src="/assets/js/101.4659beed.js" defer></script>
  </body>
</html>
