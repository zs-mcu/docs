(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{1473:function(s,a,r){"use strict";r.r(a);var e=r(4),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"实战脚本示例04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实战脚本示例04"}},[s._v("#")]),s._v(" 实战脚本示例04")]),s._v(" "),a("blockquote",[a("p",[s._v("deploy_jar.sh")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("serverPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10022"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("serverIp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.1.101"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("serverUser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xiaoshaozi"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$serverPort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$serverUser")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$serverIp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sh -xc \"rm -rf /home/xiaoshaozi/workspace/bin/jar/3500/bak_jar/jar\"'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverPort}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./jar"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverUser}")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverIp}")]),s._v(":/home/xiaoshaozi/workspace/bin/jar/3500/bak_jar/jar\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接服务器，执行脚本文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverPort}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverUser}")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverIp}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n#!/bin/bash\nsh -x /home/xiaoshaozi/workspace/bin/jar/3500/change_jar_3500.sh\nsh -x /home/xiaoshaozi/workspace/bin/jar/stop_java_3500_jar.sh\nsh -x /home/xiaoshaozi/workspace/bin/jar/start_java_3500.sh\nEOF")]),s._v("\n\n")])])])])}),[],!1,null,null,null);a.default=t.exports}}]);