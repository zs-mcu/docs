(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1094:function(t,s,a){t.exports=a.p+"assets/img/image-20231106173920744.f533b349.png"},1095:function(t,s,a){t.exports=a.p+"assets/img/image-20231106181941755.8f6fca82.png"},1096:function(t,s,a){t.exports=a.p+"assets/img/image-20231106182049824.c71db3cf.png"},1097:function(t,s,a){t.exports=a.p+"assets/img/image-20231106190007118.70752377.png"},1413:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"系统管理-3-1-系统管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统管理-3-1-系统管理"}},[t._v("#")]),t._v(" 系统管理--3.1.系统管理")]),t._v(" "),s("h2",{attrs:{id:"进程生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程生命周期"}},[t._v("#")]),t._v(" 进程生命周期")]),t._v(" "),s("p",[s("strong",[t._v("父进程")]),t._v(",复制自己的地址空间（fork）创建一个新的（子）进程结构。每个新进程分配一个唯一的进程 ID （PID），满足跟踪安全性之需。PID 和 父进程 ID (PPID）是子进程环境的元素，任何进程都可以创建子进程，所有进程都是第一个系统进程的后代：Centos5/6: ==init== RedHat7/8: ==systemd==")]),t._v(" "),s("p",[s("strong",[t._v("子进程")]),t._v("继承父进程的安全性身份、过去和当前的文件描述符、端口和资源特权、环境变量，以及程序代码。随后，子进程exec 自己的程序代码。通常，父进程在子进程运行期间处于睡眠（sleeping）状态。当子进程完成时发出（exit）信号请求，在退出时， 子进程会关闭或丢弃了其资源环境，剩余的部分称之为僵停（僵尸Zombie）。父进程在子进程退出时收到信号而被唤醒，清理剩余的结构，然后继续执行其自己的程序代码")]),t._v(" "),s("p",[s("img",{attrs:{src:a(1094),alt:"image-20231106173920744"}})]),t._v(" "),s("p",[s("strong",[t._v("㈠ 进程的优先级控制")])]),t._v(" "),s("p",[s("strong",[t._v("① 调整正在运行进程的优先级(renice)")])]),t._v(" "),s("p",[t._v('1）使用top按"r"来调整')]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("改变NICE---\x3ePR\n优先级的范围：\n-20——19 数字越低，优先级越高，系统会按照更多的cpu时间给该进程\n")])])]),s("p",[t._v("2）命令行使用renice调整")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sleep命令没有实际意义，延迟(睡觉)5000秒\n[root@localhost ~]# sleep 5000 &\n[1] 2544\nsleep程序已经运行，通过renice命令调整优先级\n[root@localhost ~]# renice -20 2544\n2544: old priority 0, new priority -20\n")])])]),s("p",[t._v("② 程序运行时指定优先级(nice)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("启动进程时，通常会继承父进程的 nice级别，默认为0。\n# nice -n -5 sleep 6000 &\n# ps axo command,pid,nice |grep sleep\n")])])]),s("h2",{attrs:{id:"ps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ps"}},[t._v("#")]),t._v(" ps")]),t._v(" "),s("p",[t._v("常见组合")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-eF")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ely")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" aux\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" auxf\n\na 显示当前终端下的所有进程，包括其他用户的进程\nu 显示进程拥有者、状态、资源占用等的详细信息（注意有“-”和无“-”的区别）\nx 显示没有控制终端的进程。通常与a这个参数一起使用，可列出较完整信息\no 自定义打印内容\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" 显示所有进程。\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" 完整输出显示进程之间的父子关系\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" 较长、较详细的将该进程的信息列出\n")])])]),s("p",[s("img",{attrs:{src:a(1095),alt:"image-20231106181941755"}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(1096),alt:"image-20231106182049824"}})]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" \t运行进程的用户\nPID: \t进程ID\n%CPU: \tCPU占用率\n%MEM: \t内存占用率\nVSZ: \t占用虚拟内存\nRSS: \t占用实际内存,驻留内存\nTTY: \t进程运行的终端\nSTAT: \t进程状态,man ps获取帮助"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/STATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    R \t运行\n    S \t可中断睡眠 Sleep\n    D \t不可中断睡眠\n    T \t停止的进程\n    Z \t僵尸进程\n    Ss \ts进程的领导者，父进程\n    S"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("优先级较高的进程\n    SN \tN优先级较低的进程\n    R+ \t+表示是前台的进程组\n    Sl \t以线程的方式运行\nSTART \t进程的启动时间\nTIME \t进程占用CPU的总时间\nCOMMAND 进程文件，进程名\n\n其他命令查看进行信息\npidof \t查看指定进程的PID\npstree \t查看进程树\n")])])]),s("p",[t._v("ps命令是用来静态显示系统中进程的命令。\n不过这个命令有些特殊，它的部分命令的选项不能加入“-”，比如命令“psaux”，其中“aux”是选项，但是这个选项不能加入“-”。\n这是因为ps命令的部分选项需要遵守BSD操作系统的格式。\n所以ps命令的常用选项的组合是固定的。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps aux")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看系统中所有进程，使用BSD操作系统格式")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps -le")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看系统中所有进程，使用Linux标准命令格式。")]),t._v("\n选项：\n    a:\t显示一个终端的所有进程，除了会话引线\n    u:\t显示进程的归属用户及内存的使用情况\n    x:\t显示没有控制终端的进程\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v("\t长格式显示。显示更加详细的信息\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v("\t显示所有进程，和-A作用一致\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jysp grub2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vim /etc/default/grub")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jysp grub2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps aux")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v("       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" ?        S    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月02   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("kthreadd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nroot         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" ?        I"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月02   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rcu_gp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("解释下这个命令的输出：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("USER：该进程是由哪个用户产生的；")])]),t._v(" "),s("li",[s("p",[t._v("PID：进程的ID号；")])]),t._v(" "),s("li",[s("p",[t._v("%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；")])]),t._v(" "),s("li",[s("p",[t._v("%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；")])]),t._v(" "),s("li",[s("p",[t._v("VSZ：该进程占用虚拟内存的大小，单位KB；")])]),t._v(" "),s("li",[s("p",[t._v("RSS：该进程占用实际物理内存的大小，单位KB；")])]),t._v(" "),s("li",[s("p",[t._v("TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端（可以通过alt+F1-F7键切换不同的终端），tty1-tty6是本地的字符界面终端，tty7是图形终端。pts/0-255代表虚拟终端，一般是远程连接的终端，第一个远程连接占用的是pts/0终端，第二个远程连接占用pts/1，依次增长。")])]),t._v(" "),s("li",[s("p",[t._v("STAT：进程状态。常见的状态有：")]),t._v(" "),s("ul",[s("li",[t._v("D：不可被唤醒的睡眠状态，通常用于I/O情况")]),t._v(" "),s("li",[t._v("R：该进程正在运行")]),t._v(" "),s("li",[t._v("S：该进程在睡眠状态，可被唤醒")]),t._v(" "),s("li",[t._v("T：停止状态，可能是在后台暂停或进程在除错状态")]),t._v(" "),s("li",[t._v("W：内存交互状态（从2.6内核开始无效）")]),t._v(" "),s("li",[t._v("X：死掉的进程（应该不会出现）")]),t._v(" "),s("li",[t._v("Z：僵尸进程。进程已经终止，但是部分程序还在内存当中。")]),t._v(" "),s("li",[t._v("<：高优先级（以下状态在BSD格式当中出现）")]),t._v(" "),s("li",[t._v("N：低优先级L：被锁入内存")]),t._v(" "),s("li",[t._v("s：包含子进程")]),t._v(" "),s("li",[t._v("l：多线程（小写L）")]),t._v(" "),s("li",[t._v("+：位于后台")])])]),t._v(" "),s("li",[s("p",[t._v("START：该进程的启动时间")])]),t._v(" "),s("li",[s("p",[t._v("TIME：该进程占用CPU的运算时间，注意不是系统时间")])]),t._v(" "),s("li",[s("p",[t._v("COMMAND：产生此进程的命令名")])])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jysp grub2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps -le")]),t._v("\nF S   "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("UID")]),t._v("   PID  "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PPID")]),t._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" S     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2461")]),t._v(" ep_pol ?        00:01:15 systemd\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" S     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" kthrea ?        00:00:00 kthreadd\n")])])]),s("ul",[s("li",[t._v("F：进程标志，说明进程的权限，常见的标志有：\n"),s("ul",[s("li",[t._v("1：进程可以复制，但是不能执行")]),t._v(" "),s("li",[t._v("4：进程使用超级用户权限")])])]),t._v(" "),s("li",[t._v("S：进程状态。具体的状态和“ps aux”命令中STAT状态一致")]),t._v(" "),s("li",[t._v("UID：进程是哪个UID用户调用运行的")]),t._v(" "),s("li",[t._v("PID：进程的ID号")]),t._v(" "),s("li",[t._v("PPID：父进程的ID号")]),t._v(" "),s("li",[t._v("C：该进程的CPU使用率，单位是百分比")]),t._v(" "),s("li",[t._v("PRI：进程的优先级，数值越小该进程优先级越高，越快被CPU执行")]),t._v(" "),s("li",[t._v("NI：进程的优先级，也是数值越小越早被执行")]),t._v(" "),s("li",[t._v("ADDR：该进程在内存的哪个位置")]),t._v(" "),s("li",[t._v("SZ：该进程占用多大内存")]),t._v(" "),s("li",[t._v("WCHAN：该进程是否运行。“-”代表正在运行")]),t._v(" "),s("li",[t._v("TTY：该进程由哪个终端产生")]),t._v(" "),s("li",[t._v("TIME：该进程占用CPU的运算时间，注意不是系统时间")]),t._v(" "),s("li",[t._v("CMD：产生此进程的命令名")])]),t._v(" "),s("h2",{attrs:{id:"top"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[t._v("#")]),t._v(" top")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top [选项]")]),t._v("\n选项：\n")])])]),s("p",[t._v("我们看看top命令的执行结果：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":26:48 up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" days,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(":51,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" users,  load average: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.32")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.13")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.12")]),t._v("\nTasks:  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("97")]),t._v(" total,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" running,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96")]),t._v(" sleeping,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" stopped,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" zombie\n%Cpu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.9")]),t._v(" us,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v(" sy,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" ni, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96.1")]),t._v(" id,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" wa,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" hi,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" si,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" st\nKiB Mem "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1776404")]),t._v(" total,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("557000")]),t._v(" free,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("340088")]),t._v(" used,   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("879316")]),t._v(" buff/cache\nKiB Swap:        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" total,        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" free,        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" used.  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1251988")]),t._v(" avail Mem \n\n  PID "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v("      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                           \n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1210")]),t._v(" root      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-10")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("227028")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("33768")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10748")]),t._v(" S   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.9")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("79")]),t._v(":34.76 AliYunDunMonito                   \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24408")]),t._v(" root      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("157728")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6372")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4620")]),t._v(" S   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.4")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":05.81 sshd                              \n")])])]),s("p",[t._v("top命令的输出内容是动态的，默认每3秒刷新一次。")]),t._v(" "),s("p",[t._v("命令的输出主要分为两大部分：\n第一部分是前五行，显示的是整个系统的资源使用状况，我们就是通过这些输出判断服务器的健康状态；\n第二部分从第六行开始，显示的是系统中进程的信息。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("我们先来说明第一部分的作用：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("第一行信息为任务队列信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("19:26:48")]),t._v(" "),s("td",[t._v("系统当前时间")])]),t._v(" "),s("tr",[s("td",[t._v("up 3 days,  5:51")]),t._v(" "),s("td",[t._v("系统的运行时间")])]),t._v(" "),s("tr",[s("td",[t._v("2 users")]),t._v(" "),s("td",[t._v("当前登录了两个用户")])]),t._v(" "),s("tr",[s("td",[t._v("load average: 0.32, 0.13, 0.12")]),t._v(" "),s("td",[t._v("系统在之前1分钟，5分钟，15分钟的平均负载。"),s("br"),t._v("如果CPU是单核，则这个数超过1，就是高负载。"),s("br"),t._v("如果CPU是四核，则这个数超过4，就是高负载。"),s("br"),t._v("（这个平均负载完全是个人经验来进行判断的，一般认为不应该超过服务器CPU的核数。）")])])])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("物理CPU"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("N路"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：主板上CPU插槽的个数\nCPU核数：一块CPU上面能处理数据的芯片组的数量\n逻辑CPU：一般情况，一颗cpu可以有多核，加上intel的超线程技术"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", 可以在逻辑上再分一倍数量的cpu core出来；\n逻辑CPU数量"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("物理cpu数量 x cpu核数。如果支持HT,还要更多。\n\n查看物理CPU的个数\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# cat /proc/cpuinfo |grep "physical id"|sort |uniq|wc -l')]),t._v("\n查看逻辑CPU的个数\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# cat /proc/cpuinfo |grep "processor"|wc -l')]),t._v("\n查看CPU是几核\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# cat /proc/cpuinfo |grep "cores"|uniq')]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("第二行为进程信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Tasks:  97 total")]),t._v(" "),s("td",[t._v("系统中的进程总数")])]),t._v(" "),s("tr",[s("td",[t._v("1 running")]),t._v(" "),s("td",[t._v("正在运行的进程数")])]),t._v(" "),s("tr",[s("td",[t._v("96 sleeping")]),t._v(" "),s("td",[t._v("睡眠的进程")])]),t._v(" "),s("tr",[s("td",[t._v("0 stopped")]),t._v(" "),s("td",[t._v("正在停止的进程")])]),t._v(" "),s("tr",[s("td",[t._v("0 zombie")]),t._v(" "),s("td",[t._v("僵尸进程。如果不是0，需要手工检查僵尸进程")])])])])]),t._v(" "),s("li",[s("p",[t._v("第三行为CPU信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("%Cpu(s):  1.9 us")]),t._v(" "),s("td",[t._v("用户模式占用的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("2.0 sy")]),t._v(" "),s("td",[t._v("系统模式占用的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("0.0 ni")]),t._v(" "),s("td",[t._v("改变过优先级的用户进程占用的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("96.1 id")]),t._v(" "),s("td",[t._v("空闲CPU的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("0.0 wa")]),t._v(" "),s("td",[t._v("等待输入/输出的进程的占用CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("0.0 hi")]),t._v(" "),s("td",[t._v("硬中断请求服务占用的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("0.0 si")]),t._v(" "),s("td",[t._v("软中断请求服务占用的CPU百分比")])]),t._v(" "),s("tr",[s("td",[t._v("0.0 st")]),t._v(" "),s("td",[t._v("st（Steal time）虚拟时间百分比。"),s("br"),t._v("就是当有虚拟机时，虚拟CPU等待实际CPU的时间百分比。")])])])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("us \t\t用户进程占用CPU的比率\nsy \t\t内核、内核进程占用CPU的比率；\nni \t\t如果一些用户进程修改过优先级，这里显示这些进程占用CPU时间的比率；\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" \t\tCPU空闲比率，如果系统缓慢而这个值很高，说明系统慢的原因不是CPU负载高；\nwa \t\tCPU等待执行I/O操作的时间比率，该指标可以用来排查磁盘I/O的问题，通常结合wa和id判断\nhi \t\tCPU处理硬件中断所占时间的比率；\nsi \t\tCPU处理软件中断所占时间的比率；\nst \t\t其他任务所占CPU时间的比率；\n\n说明：\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 用户进程占比高，wa低，说明系统缓慢的原因在于进程占用大量CPU，通常还会伴有教低的id，说明CPU空闲时间很少；\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". wa低，id高，可以排除CPU资源瓶颈的可能。\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". wa高，说明I/O占用了大量的CPU时间，需要检查交换空间的使用；如果内存充足，但wa很高，说明需要检查哪个进程占用\n了大量的I/O资源。\n")])])])]),t._v(" "),s("li",[s("p",[t._v("第四行为物理内存信息，")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("KiB Mem :  1776404 total")]),t._v(" "),s("td",[t._v("物理内存的总量，单位KB")])]),t._v(" "),s("tr",[s("td",[t._v("557000 free")]),t._v(" "),s("td",[t._v("已经使用的物理内存数量")])]),t._v(" "),s("tr",[s("td",[t._v("340088 used")]),t._v(" "),s("td",[t._v("空闲的物理内存数量，我们使用的是虚拟机，"),s("br"),t._v("总共只分配了628MB内存，所以只有53MB的空闲内存了")])]),t._v(" "),s("tr",[s("td",[t._v("879316 buff/cache")]),t._v(" "),s("td",[t._v("作为缓冲的内存数量")])])])])]),t._v(" "),s("li",[s("p",[t._v("第五行为交换分区（swap）信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("KiB Swap:        0 total")]),t._v(" "),s("td",[t._v("交换分区（虚拟内存）的总大小")])]),t._v(" "),s("tr",[s("td",[t._v("0k used")]),t._v(" "),s("td",[t._v("已经使用的交互分区的大小")])]),t._v(" "),s("tr",[s("td",[t._v("0 free")]),t._v(" "),s("td",[t._v("空闲交换分区的大小")])]),t._v(" "),s("tr",[s("td",[t._v("1251988 avail Mem")]),t._v(" "),s("td",[t._v("作为缓存的交互分区的大小")])])])])])])]),t._v(" "),s("li",[s("p",[t._v("再来看top命令的第二部分输出，主要是系统进程信息。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(1097),alt:"image-20231106190007118"}})]),t._v(" "),s("ul",[s("li",[t._v("PID：进程ID")]),t._v(" "),s("li",[t._v("USER：该进程所属的用户")]),t._v(" "),s("li",[t._v("PR：优先级，数值越小优先级越高")]),t._v(" "),s("li",[t._v("NI：优先级，数值越小优先级越高")]),t._v(" "),s("li",[t._v("VIRT：该进程使用的虚拟内存的大小，单位KB")]),t._v(" "),s("li",[t._v("RES：该进程使用的物理内存的大小，单位KB")]),t._v(" "),s("li",[t._v("SHR：共享内存大小，单位KB")]),t._v(" "),s("li",[t._v("S：进程状态")]),t._v(" "),s("li",[t._v("%CPU：该进程占用CPU的百分比")]),t._v(" "),s("li",[t._v("%MEM：该进程占用内存的百分比")]),t._v(" "),s("li",[t._v("TIME+：该进程总共占用的CPU时间")]),t._v(" "),s("li",[t._v("COMMAND：进程的命令名")])])])]),t._v(" "),s("p",[t._v("比如我如果只想让top命令查看某一个进程，这时就可以使用“-p选项”：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top -p 15273")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#只查看PID为15273的apache进程")]),t._v("\n")])])]),s("p",[s("strong",[t._v("top")]),t._v("命令常用按键命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("? 帮助\nM 按内存的使用排序\nP 按CPU使用排序\nT 按该进程使用的CPU时间累积排序\nk 给某个PID一个信号（signal），默认值是信号15\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 显示所有CPU的负载\ns 改变两次刷新之间的时间。默认是5秒\nq 退出程序\nN 以PID的大小排序\nR 对排序进行反转\nf 自定义显示字段\nr 重新安排一个进程的优先级别\n")])])]),s("p",[s("strong",[t._v("top命令常用的选项")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" 后面可以接秒数，指定每两次屏幕信息刷新之间的时间间隔；\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" 指定某个进程来进行监控；\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" 指定进程的拥有者\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" 以批处理方式执行top命令。通常使用数据流重定向，将处理结果输出为文件；\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@MissHou ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@MissHou ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top -d 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@MissHou ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top -d 1 -p 10126 查看指定进程的动态信")]),t._v("\n息\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@MissHou ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top -d 1 -u apache 查看指定用户的进程")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@MissHou ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top -d 1 -b -n 2 > top.txt 将2次top信息写入到文件")]),t._v("\n")])])]),s("h2",{attrs:{id:"pstree"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pstree"}},[t._v("#")]),t._v(" pstree")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pstree "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" 显示进程的PID\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" 显示进程的所属用户\n")])])]),s("h2",{attrs:{id:"其他命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他命令"}},[t._v("#")]),t._v(" 其他命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("信号"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 进程PID\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pkill")]),t._v("\n给进程号为15621的进程发送默认信号"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-15可以省略"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15621")]),t._v("\n给stu1用户的所有进程发送9号信号（结束stu1的所有进程），根据用户结束进程\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pkill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" stu1\n给进程名为vsftpd的进程发送9号信号"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("根据进程名来结束进程"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pkill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-9")]),t._v(" vsftpd\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" vsftpd\n")])])]),s("h2",{attrs:{id:"进程的管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程的管理"}},[t._v("#")]),t._v(" 进程的管理")]),t._v(" "),s("p",[t._v("系统中可以识别的信号较多，我们可以使用命令“"),s("code",[t._v("kill -l")]),t._v("”或“"),s("code",[t._v("man 7 signal")]),t._v("”来查询，命令如下：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill -l")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGHUP       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGINT       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGQUIT      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGILL       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTRAP\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGABRT      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGBUS       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGFPE       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGKILL     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGUSR1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGSEGV     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGUSR2     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGPIPE     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGALRM     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTERM\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGSTKFLT   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGCHLD     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGCONT     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGSTOP     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTSTP\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTTIN     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGTTOU     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGURG      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGXCPU     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGXFSZ\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGVTALRM   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGPROF     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGWINCH    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGIO       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGPWR\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGSYS      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("34")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+1  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+2  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+3\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+4  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+5  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+6  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("41")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+7  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+8\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+9  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+10 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+11 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("46")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+12 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("47")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+13\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMIN+15 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-14 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("51")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-13 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("52")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-12\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-11 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-10 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-9  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-8  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("57")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-7\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-6  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-5  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-4  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-3  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-2\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("63")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX-1  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SIGRTMAX  \n")])])]),s("p",[t._v("这里我们介绍一下主要的信号，")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("信号代号")]),t._v(" "),s("th",[t._v("信号名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("SIGHUP")]),t._v(" "),s("td",[t._v("该信号让进程立即关闭，然后重新读取配置文件之后重启。")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("SIGINT")]),t._v(" "),s("td",[t._v("程序终止信号，用于终止前台进程。相当于输出"),s("code",[t._v("ctrl+c")]),t._v("快捷键。")])]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("SIGFPE")]),t._v(" "),s("td",[t._v("在发生致命的算术运算错误时发出."),s("br"),t._v("不仅包括浮点运算错误,还包括溢出及除数为0等其它所有的算术的错误。")])]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("SIGKILL")]),t._v(" "),s("td",[t._v("用来立即结束程序的运行.本信号不能被阻塞、处理和忽略。"),s("br"),t._v("一般用于强制终止进程。")])]),t._v(" "),s("tr",[s("td",[t._v("14")]),t._v(" "),s("td",[t._v("SIGALRM")]),t._v(" "),s("td",[t._v("时钟定时信号,计算的是实际的时间或时钟时间.alarm函数使用该信号。")])]),t._v(" "),s("tr",[s("td",[t._v("15")]),t._v(" "),s("td",[t._v("SIGTERM")]),t._v(" "),s("td",[t._v("正常结束进程的信号，kill命令的默认信号。"),s("br"),t._v("有时如果进程已经发生问题，这个信号是无法正常终止进程的，我们才会尝试SIGKILL信号，也就是信号9。")])]),t._v(" "),s("tr",[s("td",[t._v("18")]),t._v(" "),s("td",[t._v("SIGCONT")]),t._v(" "),s("td",[t._v("该信号可以让暂停的进程恢复执行，本信号不能被阻断。")])]),t._v(" "),s("tr",[s("td",[t._v("19")]),t._v(" "),s("td",[t._v("SIGSTOP")]),t._v(" "),s("td",[t._v("该信号可以暂停前台进程，相当于输入"),s("code",[t._v("ctrl+z")]),t._v("快捷键。本信号不能被阻断。")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("信号编号")]),t._v(" "),s("th",[t._v("信号名")]),t._v(" "),s("th",[t._v("解释说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("SIGHUP")]),t._v(" "),s("td",[t._v("默认终止控制终端进程(可用来重新加载配置文件，平滑重启)")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("SIGINT")]),t._v(" "),s("td",[t._v("键盘中断(ctrl+c)")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("SIGQUIT")]),t._v(" "),s("td",[t._v("键盘退出(ctrl+)，一般指程序异常产生core文件")])]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("SIGKILL")]),t._v(" "),s("td",[t._v("强制终止")])]),t._v(" "),s("tr",[s("td",[t._v("15")]),t._v(" "),s("td",[t._v("SIGTERM")]),t._v(" "),s("td",[t._v("正常结束，默认信号")])]),t._v(" "),s("tr",[s("td",[t._v("18")]),t._v(" "),s("td",[t._v("SIGCONT")]),t._v(" "),s("td",[t._v("继续")])]),t._v(" "),s("tr",[s("td",[t._v("19")]),t._v(" "),s("td",[t._v("SIGSTOP")]),t._v(" "),s("td",[t._v("停止")])]),t._v(" "),s("tr",[s("td",[t._v("20")]),t._v(" "),s("td",[t._v("SIGTSTP")]),t._v(" "),s("td",[t._v("暂停(ctrl+z)")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td")])])]),t._v(" "),s("h2",{attrs:{id:"kill"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kill"}},[t._v("#")]),t._v(" kill")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill [信号] PID")]),t._v("\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("例2：使用“-1”信号，让进程重启\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill -1 2246")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用“-1（数字一）”信号，让httpd的主进程重启动。")]),t._v("\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("例3：使用“-19”信号，让进程暂停。\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vi test.sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用vi命令编辑一个文件，不要退出")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ps aux | grep "vi" | grep -v "grep"')]),t._v("\nroot\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2313")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7116")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1544")]),t._v("\tpts/1\tS+\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":20\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" test.sh\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#换一个不同的终端，查看下这个进程的状态。进程状态是S（休眠）和+（位于后台），")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#因为是在另外一个终端运行的命令")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill -19 2313")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用-19信号，让PID是2313的进程暂停。相当于在vi界面按“ctrl+z”快捷键。")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ps aux | grep "vi" | grep -v "grep"')]),t._v("\nroot\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2313")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7116")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1580")]),t._v(" pts/1\tT\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":20\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" test.sh\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#注意2313进程的状态，变成了T（暂停）状态。这时我切换回vi的终端，发现vi命令已")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#经暂停，又回到了命令提示符。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不过2313进程就会卡在后台，如果想要恢复可以使用“kill -9 2313”强制终止进程，也")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#可以利用15.2小节将要学习的工作管理来进行恢复。")]),t._v("\n")])])]),s("h2",{attrs:{id:"killall"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#killall"}},[t._v("#")]),t._v(" killall")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#killall [选项][信号] 进程名")]),t._v("\n选项：\n    -i：\t交互式，询问是否要杀死某个进程\n    -I：\t忽略进程名的大小写\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("交互式杀死sshd进程\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ps aux | grep "sshd" | grep -v "grep"')]),t._v("\nroot\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1733")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8508")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1008")]),t._v(" ?\tSs\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":47\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 /usr/sbin/sshd\nroot\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1735")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11452")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3296")]),t._v(" ?\tSs\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":47\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 sshd: root@pts/0\nroot\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1758")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11452")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3296")]),t._v(" ?\tSs\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":47\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 sshd: root@pts/1\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查询系统有3个sshd进程。1733是sshd服务的进程，1735和1758是我的两个远程连接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#的进程")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# killall -i sshd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#交互式杀死sshd进程")]),t._v("\n杀死sshd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1733")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ? "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y/N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这个进程是sshd的服务进程，如果杀死，所有的sshd连接都不能登录。")]),t._v("\n杀死sshd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1735")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ? "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y/N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这是我当前登录终端，不能杀死我自己吧！")]),t._v("\n杀死sshd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1758")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ? "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y/N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" y\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把另外一个sshd登录终端踢出。")]),t._v("\n")])])]),s("h2",{attrs:{id:"pkill"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pkill"}},[t._v("#")]),t._v(" pkill")]),t._v(" "),s("p",[s("code",[t._v("pkill")]),t._v("命令和"),s("code",[t._v("killall")]),t._v("命令非常类似，也是按照进程名来杀死进程。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#pkill [选项][信号] 进程名")]),t._v("\n选项：\n\t-t终端号：按照终端号踢出用户\n\t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pkill -9 -t pts/1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#强制杀死从pts/1虚拟终端登录的进程")]),t._v("\n")])])]),s("h2",{attrs:{id:"工作管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作管理"}},[t._v("#")]),t._v(" 工作管理")]),t._v(" "),s("p",[t._v("后台管理有几个事项需要大家注意：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("前台是指当前可以操控和执行命令的这个操作环境，")]),t._v(" "),s("p",[t._v("后台是指工作可以自行运行，但是不能直接用ctrl+c来终止它，只能使用fg/bg来调用工作；")])]),t._v(" "),s("li",[s("p",[t._v("当前的登录终端，只能管理当前终端的工作，而不能管理其他登录终端的工作。")]),t._v(" "),s("p",[t._v("如tty1登录的终端是不能管理tty2终端中的工作的；")])]),t._v(" "),s("li",[s("p",[t._v("放入后台的命令必须可以持续运行一段时间，这样我们才能扑捉和操作这个工作。\n如果把ls命令放入后台执行，它很快就会执行完成，我们很难操作它。")])]),t._v(" "),s("li",[s("p",[t._v("放入后台执行的命令不能和前台用户有交互或需要前台输入，否则放入后台只能暂停，而不能执行。\n比如vi命令放入后台只能暂停，而不能执行，因为vi需要前台输入信息。\ntop命令也不能放入后台执行，而只能放入后台暂停，因为top命令需要和前台有交互。")])])]),t._v(" "),s("p",[t._v("如何把命令放入后台")]),t._v(" "),s("p",[t._v("1)、第一种方法是“"),s("code",[t._v("命令 &")]),t._v("”，把命令放入后台执行")]),t._v(" "),s("p",[t._v("第一种把命令放入后台的方法是在命令后面加入“空格&”，这种方法放入后台的命令，在后台是执行状态。\n但是注意，放入后台执行的命令不能与前台有交互，否则这个命令是不能在后台执行的。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# find / -name install.log &")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1920")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [工作号] 进程号")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# find命令放入后台执行，每个后台命令会分配一个工作号，命令既然可以执行，就会有进程产生，所以也会有进程号。")]),t._v("\n")])])]),s("p",[t._v("这样的话，虽然find命令在执行，但是当前终端我还是可以进行其他命令操作的。如果在终端上出现：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("+\tDone\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-name")]),t._v(" install.log\n")])])]),s("p",[t._v("证明后台这个任务已经完成了，当然命令如果有执行结果的话，也会显示到操作终端上。\n"),s("code",[t._v("[1]")]),t._v("是这个命令的工作号，"),s("code",[t._v("+")]),t._v("号代表这个任务是最近一个被放入后台的工作。")]),t._v(" "),s("p",[t._v("2)、第二种方法是在命令执行过程中按ctrl+z快捷键，命令在后台是暂停状态")]),t._v(" "),s("p",[t._v("使用这种方法放入后台的命令，就算是不和前台有交互，能在后台执行的命令，也是暂停状态，ctrl+z快捷键就是暂停的快捷键。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("例1：\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# top")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在top命令执行的过程中，按下ctrl+z快捷键")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("+\tStopped\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#提示命令被放入后台，工作号是1，状态是暂停。而且虽然top命令没有结束，也能取得")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#控制台权限。")]),t._v("\n\n例2：\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tar -zcf etc.tar.gz /etc")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#压缩一下/etc/目录")]),t._v("\ntar:从成员名中删除开头的“/”\ntar:从硬连接目标中删除开头的“/”\n^Z\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("--执行的过程中，按下ctrl+z快捷键\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("+\tStopped\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-zcf")]),t._v(" etc.tar.gz /etc\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#命令被放入后台，工作号是2，状态是暂停。")]),t._v("\n")])])]),s("h2",{attrs:{id:"后台命令管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后台命令管理"}},[t._v("#")]),t._v(" 后台命令管理")]),t._v(" "),s("p",[t._v("1)、查看后台的工作")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jobs [-l]")]),t._v("\n选项：\n\t-l：显示工作的PID\n")])])]),s("p",[t._v("2）、将后台暂停的工作恢复到前台执行")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fg %工作号")]),t._v("\n参数：\n\t%工作号：%号可以省略，但是注意工作号和PID的区别\n")])])]),s("p",[t._v("3）、把后台暂停的工作恢复到后台执行")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# bg %工作号")]),t._v("\n")])])]),s("p",[t._v("4）、后台命令脱离登录终端运行")]),t._v(" "),s("p",[t._v("nohup命令的作用就是让后台工作在离开操作终端时，也能够正确的在后台执行。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nohup [命令] &")]),t._v("\n\n例如：\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nohup find / -print > /root/file.log &")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2349")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("--用find命令，打印/下所有文件。放入后台执行\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# nohup: 忽略输入并把输出追加到"nohup.out"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#有提示信息")]),t._v("\n")])])]),s("h2",{attrs:{id:"系统资源查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统资源查看"}},[t._v("#")]),t._v(" 系统资源查看")]),t._v(" "),s("h3",{attrs:{id:"vmstat命令监控系统资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vmstat命令监控系统资源"}},[t._v("#")]),t._v(" "),s("code",[t._v("vmstat")]),t._v("命令监控系统资源")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#vmstat [刷新延时 刷新次数]")]),t._v("\n\n例如：\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vmstat 1 3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用vmstat检测，每1秒刷新一次，共刷新3次")]),t._v("\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("   buff  cache   si   so    bi    bo   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   cs us sy "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" wa st\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("551100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("219936")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("665036")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("550548")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("219936")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("665044")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3378")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5995")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("94")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("550996")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("219936")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("665048")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3141")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5986")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n解释下这个命令的输出：\nprocs：进程信息字段：\n    r：等待运行的进程数，数量越大，系统越繁忙。\n    b：不可被唤醒的进程数量，数量越大，系统月繁忙。\nmemory：内存信息字段：\n    swpd：虚拟内存的使用情况，单位KB\n    free：空闲的内存容量，单位KB\n    buff：缓冲的内存容量，单位KB\n    cache：缓存的内存容量，单位KB\n    \nswap：交换分区的信息字段：\n    si：从磁盘中交换到内存中数据的数量，单位KB。\n    so：从内存中交换到磁盘中数据的数量，单位KB。此两个数越大，证明数据需要经常在磁盘和内存之间交换，系统性能越差。\nio：磁盘读写信息字段：\n    bi：从块设备读入数据的总量，单位是块。\n    bo：写到块设备的数据的总量，单位是块。此两个数越大，代表系统的I/O越繁忙。\nsystem：系统信息字段：\n    in：每秒被中断的进程次数。\n    cs：每秒钟进行的事件切换次数。此两个数越大，代表系统与接口设备的通信非常繁忙。\nCPU：CPU信息字段：\n    us：非内核进程消耗CPU运算时间的百分比。\n    sy：内核进程消耗CPU运算时间的百分比。\n    id：空闲CPU的百分比。\n    wa：等待I/O所消耗的CPU百分比。\n    st：被虚拟机所盗用的CPU占比。\n")])])]),s("h3",{attrs:{id:"dmesg显示开机时内核检测信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dmesg显示开机时内核检测信息"}},[t._v("#")]),t._v(" dmesg显示开机时内核检测信息")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("例如：\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mesg | grep CPU")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看CPU信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dmesg | grep eth0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询第一块网卡信息")]),t._v("\n")])])]),s("h3",{attrs:{id:"free命令查看内存使用状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#free命令查看内存使用状态"}},[t._v("#")]),t._v(" free命令查看内存使用状态")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# free [-b|-k|-m|-g]")]),t._v("\n选项：\n    -b：以字节为单位显示\n    -k：以KB为单位显示，默认就是以KB为单位显示\n    -m：以MB为单位显示\n    -g：以GB为单位显示\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  free")]),t._v("\n              total        used        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("      shared  buff/cache   available\nMem:         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("625344")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("219704")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("405640")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("56852")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85276")]),t._v("\n-/+ buffers/cache:\t\t  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("77576")]),t._v("\t\t "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("547768")]),t._v("\nSwap:        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("524280")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("524280")]),t._v("\n\n第一行：\n\ttotal\t是总内存数，\n\tused\t是已经使用的内存数，\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("\t是空闲的内存数，\n\tshared\t是多个进程共享的内存总数，\n\tbuffers\t是缓冲内存数，\n\tcached\t是缓存内存数。默认单位是KB。\n\t\n第二行：\n\t-/buffers/cache 的内存数，相当于第一行的used-buffers-cached。\n\t+/buffers/cache 的内存数，相当于第一行的free+buffers+cached。\n\n第三行：\n\ttotal\t是swap的总数；\n\tused\t是已经使用的swap数，\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("\t是空闲的swap数。默认单位是KB。\n\t\n\n")])])]),s("h3",{attrs:{id:"查看cpu信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看cpu信息"}},[t._v("#")]),t._v(" 查看CPU信息")]),t._v(" "),s("p",[t._v("CPU的主要信息保存在/proc/cpuinfo这个文件当中，我们只要查看这个文件，就可以知道cpu的相关信息。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  cat /proc/cpuinfo")]),t._v("\nprocessor       "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#逻辑CPU编号")]),t._v("\nvendor_id       "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" GenuineIntel\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#CPU制造厂商")]),t._v("\ncpu family      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#产品的系列代号")]),t._v("\nmodel           "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#CPU系列代号")]),t._v("\nmodel name      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" Intel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Xeon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Platinum 8269CY CPU @ "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".50GHz\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#CPU系列的名字，编号，主频")]),t._v("\nstepping        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#更新版本")]),t._v("\nmicrocode       "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" 0x1\ncpu MHz         "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2499.998")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#实际主频")]),t._v("\ncache size      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36608")]),t._v(" KB\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#二级缓存")]),t._v("\n\n\n")])])]),s("h3",{attrs:{id:"查看本机登陆用户信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看本机登陆用户信息"}},[t._v("#")]),t._v(" 查看本机登陆用户信息")]),t._v(" "),s("p",[t._v("w、who命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# w")]),t._v("\n 09:59:28 up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" days, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(":24,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" users,  load average: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.44")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.22")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.16")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v("     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nroot     pts/0    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.180")]),t._v(".63.118   08:39    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(".00s  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".00s  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".00s "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-bash")]),t._v("\nroot     pts/1    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.180")]),t._v(".63.118   08:39    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":19m  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(".57s  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(".57s "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# who")]),t._v("\nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-01-09 08:39 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.180")]),t._v(".63.118"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-01-09 08:39 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.180")]),t._v(".63.118"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("第一行其实和top命令的第一行非常类似，主要显示了系统当前时间，开机多久（up），有多少用户登陆（users），1分钟、5分钟、15分钟前的平均负载（load average）。\n第二行是项目的说明，第三行开始每行代表一个用户。这些项目是：\nUSER：登陆的用户名；\nTTY：登陆终端；\nFROM：从哪个IP地址登陆；\nLOGIN@：登陆时间；\nIDLE：用户闲置时间；\nJCPU：指的是和该终端连接的所有进程占用的CPU运算时间。这个时间里并不包括过去的后台作业时间，但却包括当前正在运行的后台作业所占用的时间；\nPCPU：是指当前进程所占用的CPU运算时间；\nWHAT：当前正在运行的命令。\n")])])]),s("h3",{attrs:{id:"uptime命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uptime命令"}},[t._v("#")]),t._v(" uptime命令")]),t._v(" "),s("p",[t._v("uptime命令的作用就是显示系统的启动时间和平均负载，也就是top命令的第一行。")]),t._v(" "),s("p",[t._v("其实w命令也能看到这一行的数据，具体原意使用哪个命令看个人习惯。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uptime")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":09:07 up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" days, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(":34,  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" users,  load average: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.08")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.06")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.11")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"查看系统与内核相关信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看系统与内核相关信息"}},[t._v("#")]),t._v(" 查看系统与内核相关信息")]),t._v(" "),s("p",[t._v("我们使用uname命令查看内核的相关信息")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uname [选项]")]),t._v("\n选项：\n    -a：查看系统所有相关信息；\n    -r：查看内核版本；\n    -s：查看内核名称。\n    -m：查看CPU架构\n")])])]),s("p",[t._v("如果我们想要判断当前系统的位数，可以通过file命令来判断系统文件（主要是系统命令）的位数来推断系统的位数。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  file /bin/ls")]),t._v("\n/bin/ls: ELF "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("-bit LSB executable, x86-64, version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SYSV"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", dynamically linked "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uses shared libs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" GNU/Linux "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.6")]),t._v(".32, BuildID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sha1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ceaf496f3aec08afced234f4f36330d3d13a657b, stripped\n")])])]),s("p",[t._v("如果我们想要查询当前Linux系统的发行版本，可以使用“lsb_release -a”命令查看，")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xiaoshaozi ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# lsb_release -a")]),t._v("\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID: CentOS\nDescription:    CentOS Linux release "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.6")]),t._v(".1810 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nRelease:        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.6")]),t._v(".1810\nCodename:       Core\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);