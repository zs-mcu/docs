(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1119:function(s,t,a){s.exports=a.p+"assets/img/image-20231219170928786.c0705e91.png"},1120:function(s,t,a){s.exports=a.p+"assets/img/image-20231219172720064.220ae710.png"},1121:function(s,t,a){s.exports=a.p+"assets/img/image-20231219172919598.7f13fcad.png"},1122:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173229482.2dd6d5be.png"},1123:function(s,t,a){s.exports=a.p+"assets/img/image-20231219181349053.53af9aeb.png"},1124:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173440373.f3326c25.png"},1125:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173458552.354e1bbd.png"},1126:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173517580.7184b541.png"},1127:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173530352.14abdbd0.png"},1128:function(s,t,a){s.exports=a.p+"assets/img/image-20231219173541256.f19f71ed.png"},1410:function(s,t,a){"use strict";a.r(t);var e=a(4),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"服务器安装手册"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器安装手册"}},[s._v("#")]),s._v(" 服务器安装手册")]),s._v(" "),t("h2",{attrs:{id:"防火墙与-selinux-关闭"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防火墙与-selinux-关闭"}},[s._v("#")]),s._v(" 防火墙与 selinux 关闭")]),s._v(" "),t("p",[s._v("使用 root 用户进行登入")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl stop firewalld.service\nsystemctl disable firewalld.service\n")])])]),t("p",[s._v("关闭 selinux，修改 selinux 配置文件：/etc/selinux/config。修改文件中的“SELINUX”值为：disabled")]),s._v(" "),t("p",[t("img",{attrs:{src:a(1119),alt:"image-20231219170928786"}})]),s._v(" "),t("h2",{attrs:{id:"修改系统的-open-files-与-nproc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改系统的-open-files-与-nproc"}},[s._v("#")]),s._v(" 修改系统的 open files 与 nproc")]),s._v(" "),t("p",[s._v("建议将系统的 open files 与 nproc 两个参数修改为：65535")]),s._v(" "),t("p",[s._v("先修改 open files 的，打开文件："),t("code",[s._v("/etc/security/limits.conf")]),s._v("，在文件中添加：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("* soft nproc 65535\n* hard nproc 65535\n")])])]),t("p",[t("img",{attrs:{src:a(1120),alt:"image-20231219172720064"}})]),s._v(" "),t("p",[s._v("再修改系统 nproc 的参数，修改文件："),t("code",[s._v("/etc/security/limits.d/20-nproc.conf")]),s._v("。在文件中修改添加：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("* soft nproc 65535\n* hard nproc 65535\n")])])]),t("p",[t("img",{attrs:{src:a(1121),alt:"image-20231219172919598"}})]),s._v(" "),t("h2",{attrs:{id:"修改-sshd-监听端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-sshd-监听端口"}},[s._v("#")]),s._v(" 修改 sshd 监听端口")]),s._v(" "),t("p",[s._v("以 root 用户权限修改配置文件："),t("code",[s._v("/etc/ssh/sshd_config")]),s._v("。")]),s._v(" "),t("p",[s._v("将 Port 前的注释“#”去掉，修改 22 为 10022。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(1122),alt:"image-20231219173229482"}})]),s._v(" "),t("p",[s._v("修改保存后，重启 sshd.service 服务：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl restart sshd.service\n")])])]),t("h2",{attrs:{id:"主机名设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主机名设置"}},[s._v("#")]),s._v(" 主机名设置")]),s._v(" "),t("p",[s._v("已 root 权限(切换 root 用命令：su -)打开系统的/etc/hostname 文件，并修改该文件，且该文件中只保留一行“xiaoshaozi”")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl restart systemd-hostnamed.service \n")])])]),t("h2",{attrs:{id:"修改-hosts-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-hosts-文件"}},[s._v("#")]),s._v(" 修改 hosts 文件")]),s._v(" "),t("p",[s._v("以 root 用户权限，在/etc/hosts 文件中添加本地地址的 DNS 解析，")]),s._v(" "),t("p",[s._v("解决后面RabbitMQ 的访问速率缓慢，RabbitMQ 通过主机名解析进行访问。")]),s._v(" "),t("p",[s._v("因此需将主机名解析加到服务器的本地解析文件中，由于已经确定了主机名是：jysp，")]),s._v(" "),t("p",[s._v("网络地址：192.168.1.100，因此只需添加：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(1123),alt:"image-20231219181349053"}})]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 重启网卡 刷新生效\n/etc/init.d/network restart\n\nsystemctl restart network.service\n\n# 解析域名ip地址\nping www.baidu.com -c 1 | sed '1{s/[^(]*(//;s/).*//;q}'\n")])])]),t("h2",{attrs:{id:"rpm证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpm证书"}},[s._v("#")]),s._v(" rpm证书")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n")])])]),t("h2",{attrs:{id:"本地yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地yum源"}},[s._v("#")]),s._v(" 本地yum源")]),s._v(" "),t("p",[s._v("将CentOS-7-aarch64-Everything-2009.iso镜像文件上传到服务器")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@jysp jysp]# mkdir /media/CentOS/\n\n[root@jysp jysp]# mount -o loop /home/jysp/CentOS-7-x86_64-Everything-2009.iso /media/CentOS/\nmount: /dev/loop0 写保护，将以只读方式挂载\n")])])]),t("p",[s._v("在/etc/yum.repos.d/目录下新建目录bak，然后将yum.repo.d目录下的所有文件都移动到bak目录下")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("mkdir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc/yum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d/bak\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc/yum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc/yum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d/bak\n\n\nvim CentOS-Media"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repo\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[c7-media]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器说明")]),s._v("\nname=CentOS-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" Media\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mirrorlist 镜像站点")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum源服务器的地址,镜像挂载地址")]),s._v("\nbaseurl=file:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("media/CentOS/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果为1则表示RPM的数字证书生效")]),s._v("\ngpgcheck=1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此容器是否生效")]),s._v("\nenabled=1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数字证书的公钥文件保存位置")]),s._v("\ngpgkey=file:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n\n\n\n清空yum缓存\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@RedHat8 yum.repos.d]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum clean all")]),s._v("\n创建yum缓存\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@RedHat8 yum.repos.d]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum makecache")]),s._v("\n查看仓库\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@RedHat8 yum.repos.d]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum repolist")]),s._v("\n查看yum列表\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[root@RedHat8 yum.repos.d]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum list")]),s._v("\n")])])]),t("h2",{attrs:{id:"网络设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网络设置"}},[s._v("#")]),s._v(" 网络设置")]),s._v(" "),t("p",[t("img",{attrs:{src:a(1124),alt:"image-20231219173440373"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(1125),alt:"image-20231219173458552"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(1126),alt:"image-20231219173517580"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(1127),alt:"image-20231219173530352"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(1128),alt:"image-20231219173541256"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);