(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1455:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"命令-10-挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令-10-挂载"}},[t._v("#")]),t._v(" 命令--10.挂载")]),t._v(" "),s("blockquote",[s("p",[t._v("将硬件资源，或文件资源💿，和📂空目录🔗连接起来的过程")])]),t._v(" "),s("h2",{attrs:{id:"mount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mount"}},[t._v("#")]),t._v(" mount")]),t._v(" "),s("p",[t._v("linux 所有存储设备都必须挂载使用，包括硬盘")]),t._v(" "),s("p",[t._v("​\t\t命令名称：mount")]),t._v(" "),s("p",[t._v("​\t\t命令所在路径：/bin/mount")]),t._v(" "),s("p",[t._v("​\t\t执行权限：所有用户")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查询系统中已经挂载的设备，-l 会显不卷标名称")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("h\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("HT\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 依据配置文件/etc/fstab的内容，自动挂载")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只需了解-o")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# \\代办这一行没有写完，换行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t 文件系统"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("L 卷标名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o 特殊选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \\\n设备文件名 挂载点\n\n选项：\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t 文件系统：\t加入文件系统类型来指定挂载的类型，可以ext3、ext4、iso9660等文件系统。具体可以参考下表\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("L 卷标名：\t\t挂载指定卷标的分区，而不是安装设备文件名挂载\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o 特殊选项：\t可以指定挂载的额外选项，比如读写权限、同步异步等，如果不指定则默认值生效。\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("atime/noatime")]),t._v(" "),s("td",[t._v("更新访问时间/不更新访问时间。访问分区文件时，是否更新文件的访问时间，默认为更新")])]),t._v(" "),s("tr",[s("td",[t._v("async/sync")]),t._v(" "),s("td",[t._v("异步/同步，默认为异步")])]),t._v(" "),s("tr",[s("td",[t._v("auto/noauto")]),t._v(" "),s("td",[t._v("自动/手动，mount -a命令执行时，是否会自动安装/etc/fstab文件内容挂载，默认为自动")])]),t._v(" "),s("tr",[s("td",[t._v("defaults")]),t._v(" "),s("td",[t._v("定义默认值，相当于rw,suid,dev,exec,auto,nouser,async这七个选项")])]),t._v(" "),s("tr",[s("td",[t._v("exec/noexec")]),t._v(" "),s("td",[t._v("执行/不执行，设定是否允许在文件系统中执行可执行文件，默认是exec允许")])]),t._v(" "),s("tr",[s("td",[t._v("remount")]),t._v(" "),s("td",[t._v("重新挂载已经挂载的文件系统，一般用于指定修改特殊权限")])]),t._v(" "),s("tr",[s("td",[t._v("rw/ro")]),t._v(" "),s("td",[t._v("读写/只读，文件系统挂载时，是否具有读写权限，默认是rw")])]),t._v(" "),s("tr",[s("td",[t._v("suid/nosuid")]),t._v(" "),s("td",[t._v("具有/不具有SUID权限，设定文件系统是否具有SUID和SGID的权限，默认是具有")])]),t._v(" "),s("tr",[s("td",[t._v("user/nosuer")]),t._v(" "),s("td",[t._v("允许/不允许普通用户挂载，设定文件系统是否允许普通用户挂载，默认是不允许，只有root可以挂载分区")])]),t._v(" "),s("tr",[s("td",[t._v("userquota")]),t._v(" "),s("td",[t._v("写入代表文件系统支持用户磁盘配额，默认不支持")])]),t._v(" "),s("tr",[s("td",[t._v("grpquota")]),t._v(" "),s("td",[t._v("写入代表文件系统支持组磁盘配额，默认不支持")])])])]),t._v(" "),s("p",[t._v("举例")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("例1：\n[root@localhost ~]# mount\n#查看系统中已经挂载的文件系统，注意有虚拟文件系统\n/dev/sda3 on / type ext4 (rw)\nproc on /proc type proc (rw)\nsysfs on /sys type sysfs (rw)\ndevpts on /dev/pts type devpts (rw,gid-5,mode-620)\ntmpfs on /dev/shm type tmpfs (rw)\n/dev/sdal on /boot type ext4 (rw)\nnone on /proc/sys/fs/binfmt misc type binfmt misc (rw)\nsunrpc on /var/lib/nfs/rpc pipefs type rpc pipefs (rw)\n#命令结果是代表: /dev/sda3 分区挂载到/目录，文件系统是 ext4，权限是读写\n\n例 2: 修改特殊权限\nroot@localhost # mount\n#我们查看到/boot 分区已经被挂载，而且采用的 defaults 选项，那么我们重新载分区，并采用noexec\n#权限禁止执行文件执行，看看会出现什么情况(注意不要用/分区做试验，\n#不然系统命令也不能执行了)\n..·省略部分输出·..\nroot@localhost 7# mount -o remount,noexec /boot\n#重新挂载/boot 分区，并使用 noexec 权限\n")])])]),s("p",[s("img",{attrs:{src:a(974),alt:"image-20231218124156405"}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(975),alt:"image-20231218124219275"}})]),t._v(" "),s("h2",{attrs:{id:"umount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#umount"}},[t._v("#")]),t._v(" umount")]),t._v(" "),s("p",[t._v("譬如 /dev/hda5 已经挂载在/mnt/hda5上,用一下三条命令均可卸载挂载的文件系统")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# umount /dev/hda5\n# umount /mnt/hda5\n# umount /dev/hda5 /mnt/hda5\n")])])]),s("p",[t._v("为什么umount的时候老显示 device busy？")]),t._v(" "),s("p",[t._v("这是因为有程序正在访问这个设备，最简单的办法就是让访问该设备的程序退出以后再umount。可能有时候用户搞不清除究竟是什么程序在访问设备，如果用户不急着umount，则可以用:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# umount -l /mnt/hda5\n")])])]),s("p",[t._v("来卸载设备。选项 –l 并不是马上umount，而是在该目录空闲后再umount。还可以先用命令ps aux 来查看占用设备的程序PID，然后用命令kill来杀死占用设备的进程，这样就umount的非常放心了。")]),t._v(" "),s("h2",{attrs:{id:"etc-fstab文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#etc-fstab文件"}},[t._v("#")]),t._v(" /etc/fstab文件")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("man 5 fstab")])])]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("被挂载的设备：\n\t\t设备文件，LABEL，UUID，伪文件系统等\n\t\t\n2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("挂载点：\n\t\tswap为特殊挂载，挂载点为swap\n              \n3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("文件系统类型\n\n4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("挂载选项：\n\t\tdefaults为默认挂载选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rw，suid，dev，exec，auto，nouser，and async"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，可以有多个挂载选项，以逗号为分隔符\n\n5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("转储频率：\n\t\t0表示从不备份，1表示每天备份，2表示每隔一天备份\n\t\t\n6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("自检次序：\n\t\t0表示不自检，1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("表示首先自检，一般是根文件系统为1，2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("表示次级自检"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),s("h2",{attrs:{id:"本地iso挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地iso挂载"}},[t._v("#")]),t._v(" 本地iso挂载")]),t._v(" "),s("p",[t._v("准备工作：上传镜像，创建挂载目录")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("上传镜像文件到"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home/jysp/CentOS-7-x86_64-Everything-2009"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iso\n\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@Server ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir /media/centos7_iso                     #创建挂载点的目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@Server ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  mount -o  loop /home/CentOS-7-x86_64-DVD-1708.iso   /media/centos7_iso")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@Server ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# df -HT            #查看镜像是否挂载成功")]),t._v("\n备注： "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o是参数，loop是把一个文件当成硬盘分区"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v("挂着到目录\n\n\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# df -HT")]),t._v("\n文件系统                类型      容量  已用  可用 已用"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" 挂载点\ndevtmpfs                devtmpfs   68G     0   68G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\ntmpfs                   tmpfs      68G     0   68G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/shm\ntmpfs                   tmpfs      68G   12M   68G    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run\ntmpfs                   tmpfs      68G     0   68G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sys/fs/cgroup\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/mapper/centos-root xfs       7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("9T   15G  7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("9T    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/loop0              iso9660    11G   11G     0  100% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("media/centos7_iso\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sda2               xfs        11G  194M   11G    2% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("boot\ntmpfs                   tmpfs      14G   25k   14G    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run/user/42\ntmpfs                   tmpfs      14G     0   14G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run/user/0\n\n")])])]),s("p",[t._v("开机自动挂载：修改配置文件")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("修改开机自动挂载配置："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc/fstab\nvim "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc/fstab\n内容追加如下：\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home/jysp/CentOS-7-x86_64-Everything-2009"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iso "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("media/centos7_iso/ iso9660 defaults"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("loop 0 0 \n保存退出。\n")])])]),s("p",[t._v("例")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /etc/fstab")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /etc/fstab")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Created by anaconda on Wed Dec 13 22:10:25 2023")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Accessible filesystems, by reference, are maintained under '/dev/disk'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/mapper/centos-root "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("                       xfs     defaults        0 0\nUUID=1b7d1f9f-b2af-4efb-af81-7d7bc7ef1864 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("boot                   xfs     defaults        0 0\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/mapper/centos-swap swap                    swap    defaults        0 0\n\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home/jysp/CentOS-7-x86_64-Everything-2009"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iso "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("media/centos7_iso/ iso9660 defaults"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ro"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("loop 0 0 \n\n")])])]),s("h2",{attrs:{id:"光盘挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#光盘挂载"}},[t._v("#")]),t._v(" 光盘挂载")]),t._v(" "),s("p",[t._v("光盘挂载的前提是指定光盘的设备文件名，不同版本的Linux，设备文件名并不相同：")]),t._v(" "),s("ul",[s("li",[t._v("CentOS 5.x以前的系统，光盘设备文件名是/dev/hdc")]),t._v(" "),s("li",[t._v("CentOS 6.x以后的系统，光盘设备文件名是/dev/sr0")])]),t._v(" "),s("p",[t._v("不论哪个系统都有软连接/dev/cdrom，与可以作为光盘的设备文件名")]),t._v(" "),s("p",[t._v("（1）挂载")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost /]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ls")]),t._v("\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v("\n\n一般都习惯挂载到mnt目录下 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cdrom下挂载光盘\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mnt:挂载u盘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# media:挂载光盘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# misc:挂载网络存储盘")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t iso9660 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/cdrom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/cdrom\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Linux中的光盘格式为iso9660，默认的可以识别")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/cdrom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/cdrom\n")])])]),s("p",[s("img",{attrs:{src:a(976),alt:"image-20231218105653924"}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(977),alt:"image-20231218105900623"}})]),t._v(" "),s("p",[t._v("（2）卸载")]),t._v(" "),s("p",[t._v("用完之后记得卸载：")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("umount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sr0\numount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/cdrom\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 因为设备文件名和挂载点已经连接到一起，卸载哪一个都可以")]),t._v("\n")])])]),s("p",[t._v("​\t\t注意：卸载的时候需要退出光盘目录，才能正常卸载")]),t._v(" "),s("h2",{attrs:{id:"挂载u盘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#挂载u盘"}},[t._v("#")]),t._v(" 挂载U盘")]),t._v(" "),s("p",[t._v("(1)查看U盘")]),t._v(" "),s("p",[t._v("U盘会和硬盘公用设备文件名，所以U盘的设备文件名不是固定的，需要手工查询，查询命令：")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("fdisk "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查询硬盘")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:a(978),alt:"image-20231218111955255"}})]),t._v(" "),s("p",[t._v("（2）挂载U盘")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t vfat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sdb4 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/usb/\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 挂载U盘。因为是Windows分区，所以是vfat文件系统格式")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:a(979),alt:"image-20231218112247176"}})]),t._v(" "),s("p",[t._v("如果U盘中有中文，会发现中文是乱码。Linux要想正常显示中文，需要两个条件：")]),t._v(" "),s("ul",[s("li",[t._v("安装了中文编码和中文字体")]),t._v(" "),s("li",[t._v("操作终端需要支持中文显示（纯字符终端，是不支持中文编码的）")])]),t._v(" "),s("p",[t._v("手工指定中文编码：")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t vfat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o iocharset=utf8 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sdb1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/usb/\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 挂载U盘，指定中文编码格式为UTF-8")]),t._v("\n")])])]),s("p",[t._v("如果需要卸载，可以执行")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("umount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt/usb/\n")])])]),s("h2",{attrs:{id:"挂载ntfs分区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#挂载ntfs分区"}},[t._v("#")]),t._v(" 挂载NTFS分区")]),t._v(" "),s("h3",{attrs:{id:"linux的驱动加载顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux的驱动加载顺序"}},[t._v("#")]),t._v(" Linux的驱动加载顺序")]),t._v(" "),s("ul",[s("li",[t._v("驱动直接放入系统内核之中。这种驱动主要是系统启动加载必须的驱动，数量较少。")]),t._v(" "),s("li",[t._v("驱动以模块的形式放入硬盘。大多数驱动都已这种方式保存，保存位置在"),s("code",[t._v("/lib/modules/3.10.0-862.el.x86_64/kernel/")]),t._v("中。")]),t._v(" "),s("li",[t._v("驱动可以被Linux识别，但是系统认为这种驱动异步不常用，默认不加载。如果需要加载这种驱动，需要重新编译内核，而NTFS文件系统的驱动就属于这种情况。")]),t._v(" "),s("li",[t._v("硬件不能被Linux内核识别，需要手工安装驱动。当然前提是厂商提供了改硬件针对Linux的驱动，否则就需要自己开发驱动了")])]),t._v(" "),s("h3",{attrs:{id:"使用-ntfs-3g-安装-ntfs-文件系统模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-ntfs-3g-安装-ntfs-文件系统模块"}},[t._v("#")]),t._v(" 使用 NTFS-3G 安装 NTFS 文件系统模块")]),t._v(" "),s("p",[t._v("下载 NTFS-3G 插件")]),t._v(" "),s("p",[t._v("我们从网站 http://www.tuxera.com/community/ntfs-3g-download/下载 NTFS-3G 插件到 Linux服务器上。")]),t._v(" "),s("p",[t._v("安装 NTFS-3G 插件")]),t._v(" "),s("p",[t._v("在编译安装 NTFS-3G 插件之前，要保证 gcc 编译器已经安装。具体安装命令如下:")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[t._v("tar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("zxvf ntfs-3g ntfsprogs-2013"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tgz\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd ntfs-3g ntfsprogs-2013.1.13")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#进入解压目录")]),t._v("\nroot@localhost ntfs-3g ntfsprogs-2013"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./configure")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#编译器准备。没有指定安装目录，安装到默认位置中")]),t._v("\nroot@localhost ntfs-3g ntfsprogs-2013"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("137"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#编译")]),t._v("\nroot@localhost ntfs-3g ntfsprogs-2013"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# make install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#编译安装")]),t._v("\n")])])]),s("p",[t._v("安装就完成了，已经可以挂载和使用 Windows 的 NTFS 分区了。不过需要注意挂载分区时的文件")]),t._v(" "),s("p",[t._v("系统不是 ntfs，而是 ntfs-3g。挂载命令如下:")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount -t ntfs-3g 分区设备文件名 挂载点")]),t._v("\n例如:\n"),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[root@localhost ~]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mount - t ntfs-3g /dev/sdbl /mnt/win")]),t._v("\n")])])]),s("h2",{attrs:{id:"nfs挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nfs挂载"}},[t._v("#")]),t._v(" nfs挂载")]),t._v(" "),s("p",[t._v("参考后续文章（服务管理--NFS）")]),t._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[jysp@jysp ~]")]),t._v("$ df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("HT\n文件系统                类型      容量  已用  可用 已用"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" 挂载点\ndevtmpfs                devtmpfs   69G     0   69G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\ntmpfs                   tmpfs      69G     0   69G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/shm\ntmpfs                   tmpfs      69G  131M   69G    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run\ntmpfs                   tmpfs      69G     0   69G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sys/fs/cgroup\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/mapper/centos-root xfs       5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1T   84G  5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0T    2% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sda2               xfs        11G  171M   11G    2% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("boot\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev/sda1               vfat      4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3G  9"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("5M  4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3G    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("boot/efi\n10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("139"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("102"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("114:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1   nfs4      128T  272G  128T    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home/jysp/workspace/platform_file_storage\n10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("139"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("102"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("114:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("data")]),t._v("    nfs4      128T  272G  128T    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home/jysp/ftps\ntmpfs                   tmpfs      14G  197k   14G    1% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run/user/42\ntmpfs                   tmpfs      14G     0   14G    0% "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run/user/1000\n")])])])])}),[],!1,null,null,null);s.default=e.exports},974:function(t,s,a){t.exports=a.p+"assets/img/image-20231218124156405.b87b21e5.png"},975:function(t,s,a){t.exports=a.p+"assets/img/image-20231218124219275.68d31346.png"},976:function(t,s,a){t.exports=a.p+"assets/img/image-20231218105653924.1f56491e.png"},977:function(t,s,a){t.exports=a.p+"assets/img/image-20231218105900623.0973c54d.png"},978:function(t,s,a){t.exports=a.p+"assets/img/image-20231218111955255.83962bda.png"},979:function(t,s,a){t.exports=a.p+"assets/img/image-20231218112247176.c6e7dfe3.png"}}]);