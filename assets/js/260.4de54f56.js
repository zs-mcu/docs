(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{1534:function(t,a,s){"use strict";s.r(a);var e=s(4),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"常见库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见库"}},[t._v("#")]),t._v(" 常见库")]),t._v(" "),a("p",[t._v("moment、dayjs、date-fns三个库都满足常见的需求，但是存在如下特点：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("moment 的功能强大但是体积也最大，moment.js 的体积为 280.9 kB ，day.js 体积为7K，date-fns由于是模块化加载，体积可以最小化；")])]),t._v(" "),a("li",[a("p",[t._v("dayjs 和 moment 的接口几乎完全一致，相互切换的学习成本极低，date-fns接口风格差异较大；")])]),t._v(" "),a("li",[a("p",[t._v("如果考虑的兼容性，可以优先考虑dayjs，喜欢模块化的朋友可以考虑date-fns。")])])]),t._v(" "),a("h2",{attrs:{id:"day-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-js"}},[t._v("#")]),t._v(" Day.js")]),t._v(" "),a("p",[t._v("Day.js 是一个轻量的处理时间和日期的 JavaScript 库。 Day.js被设计为Moment.js的极简替代品。API和用法几乎完全一致，相互切换的学习成本极低。")]),t._v(" "),a("p",[t._v("（最新版本的 Chrome 开发者工具也开始建议用户更换 Moment.js 为同类更小的库。）")]),t._v(" "),a("h3",{attrs:{id:"特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),a("ul",[a("li",[t._v("和 Moment.js 相同的 API 和用法")]),t._v(" "),a("li",[t._v("不可变数据 (Immutable)")]),t._v(" "),a("li",[t._v("支持链式操作 (Chainable)")]),t._v(" "),a("li",[t._v("国际化 I18n")]),t._v(" "),a("li",[t._v("仅 2kb 大小的微型库")]),t._v(" "),a("li",[t._v("全浏览器兼容")])]),t._v(" "),a("h3",{attrs:{id:"使用方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方式"}},[t._v("#")]),t._v(" 使用方式")]),t._v(" "),a("p",[t._v("API地址："),a("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fday.js.org%2Fdocs%2Fzh-CN%2Fparse%2Fparse",target:"_blank",rel:"noopener noreferrer"}},[t._v("day.js.org/docs/zh-CN/…"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("python 代码解读复制代码npm install dayjs    \n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dayjs "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dayjs'")]),t._v("  \n\ndayjs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"moment-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#moment-js"}},[t._v("#")]),t._v(" moment.js")]),t._v(" "),a("p",[t._v("一个大而全的时间日期库，极大方便了我们在 JavaScript 中计算时间和日期，每周下载量超过 1200 万，已成功用于数百万个项目中。")]),t._v(" "),a("h3",{attrs:{id:"moment-js-两大问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#moment-js-两大问题"}},[t._v("#")]),t._v(" moment.js 两大问题：")]),t._v(" "),a("h3",{attrs:{id:"_1-可变对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-可变对象"}},[t._v("#")]),t._v(" 1. 可变对象")]),t._v(" "),a("p",[t._v("Moment 对象是可变对象（mutable），简单点说，任何时间上的加减等计算都改变了其本身。这种设计让代码变的十分不可控，而且很容易带来各种隐蔽且难以调试的 bug。")]),t._v(" "),a("h3",{attrs:{id:"_2-包体积过大"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-包体积过大"}},[t._v("#")]),t._v(" 2. 包体积过大")]),t._v(" "),a("p",[t._v("因为 Momnet.js 将全部的功能和所有支持的语言都打到一个包里，包的大小也是到了 280.9 kB 这样一个夸张的数字，而且对于 Tree shaking 无效。如果要使用时区相关的功能，包体积更是有 467.6 kB 的大小。简单点说，我们可能只需要一个 .format 格式化时间的方法，用户就需要加载数百 kB 的库。")])])}),[],!1,null,null,null);a.default=r.exports}}]);